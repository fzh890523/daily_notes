<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

        <meta name="ROBOTS" content="NOODP">
        <meta name="Description" content="An event-driven networking engine written in Python and MIT licensed.">
        
    <title>
      Twisted
    </title>
      
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
          <link rel="search" href="http://twistedmatrix.com/trac/search">
          <link rel="help" href="http://twistedmatrix.com/trac/wiki/TracGuide">
          <link rel="alternate" href="http://twistedmatrix.com/trac/wiki/WikiStart?format=txt" type="text/x-trac-wiki" title="Plain Text">
          <link rel="start" href="http://twistedmatrix.com/trac/wiki">
          
          
          <link rel="icon" href="favicon.png" type="image/png">
    
      <link type="application/opensearchdescription+xml" rel="search" href="http://twistedmatrix.com/trac/search/opensearch" title="Search Twisted">
      
      
      
      
      
    
    
        
        
        
    
<link media="all" href="default_003.css" type="text/css" rel="stylesheet">
</head>
<body>
    <div id="banner">
        <div id="top_grad"></div>
        <div id="tab">
            <a href="http://twistedmatrix.com/trac/wiki">HOME</a>
            <a href="http://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions">FAQ</a>
            <a href="http://twistedmatrix.com/trac/wiki/Documentation">DOCS</a>
            <a href="http://twistedmatrix.com/trac/wiki/Downloads">DOWNLOAD</a>
        </div>
      <div id="header">
        <a id="logo" href="http://twistedmatrix.com/trac/"><img src="trac_banner.png" alt="Twisted"></a>
      </div>
      <form id="search" action="http://twistedmatrix.com/trac/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input id="proj-search" name="q" size="18" value="" type="text">
          <input value="Search" type="submit">
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="http://twistedmatrix.com/trac/github/login">GitHub Login</a></li><li class="last"><a href="http://twistedmatrix.com/trac/prefs">Preferences</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="http://twistedmatrix.com/trac/wiki">Wiki</a></li><li><a href="http://twistedmatrix.com/trac/timeline">Timeline</a></li><li><a href="http://twistedmatrix.com/trac/roadmap">Roadmap</a></li><li><a href="http://twistedmatrix.com/trac/report">View Tickets</a></li><li class="last"><a href="http://twistedmatrix.com/trac/search">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="pagepath" class="noprint">
  <a class="pathentry first" title="View WikiStart" href="http://twistedmatrix.com/trac/wiki">wiki:</a><a class="pathentry" href="http://twistedmatrix.com/trac/wiki/WikiStart" title="View WikiStart">WikiStart</a>
</div>
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
        <ul>
          <li class="first"><a href="http://twistedmatrix.com/trac/wiki/WikiStart">Start Page</a></li><li><a href="http://twistedmatrix.com/trac/wiki/TitleIndex">Index</a></li><li class="last"><a href="http://twistedmatrix.com/trac/wiki/WikiStart?action=history">History</a></li>
        </ul>
        <hr>
      </div>
    <div id="content" class="wiki">
      <div class="wikipage searchable">
        
          <div id="wikipage" class="trac-content"><div style="display: table;" class="column-layout"><div style="display: table-cell;" class="leftcol"><div class="leftcolcol"><div id="download" class="wikipage"><p>
<a style="padding: 0px; border: medium none;" href="http://twistedmatrix.com/trac/wiki/Downloads"><img src="download_icon.png" alt="" id="download_icon" title="Downloads"></a>
</p>
<h1 id="Downloads">Downloads</h1>
<h2 id="Source">Source</h2>
<ul><li><a class="ext-link" href="https://files.pythonhosted.org/packages/source/T/Twisted/Twisted-17.1.0.tar.bz2"><span class="icon">​</span>Twisted 17.1.0 tar.bz2</a>
</li></ul><h2 id="Other">Other</h2>
<ul><li><a class="wiki" href="http://twistedmatrix.com/trac/wiki/Downloads">More downloads</a>
</li></ul><h2 id="Dependencies">Dependencies</h2>
<ul><li><a class="ext-link" href="https://pypi.python.org/pypi/zope.interface#download"><span class="icon">​</span>zope.interface</a>
</li></ul></div><div class="side-panel twisted-news"><h2 id="TwistedNews"><a class="ext-link" href="http://labs.twistedmatrix.com/"><span class="icon">​</span>Twisted News</a></h2>
<div id="twisted-news" class="feed-content"><p>
<img src="throbber.gif" alt="" class="throbber" title="">
</p>
</div></div><div class="side-panel donations"><h2 id="DonatetoTwisted"><a class="wiki" href="http://twistedmatrix.com/trac/wiki/WhyDonate">Donate to Twisted</a></h2>
<p>
Donations are <a class="wiki" href="http://twistedmatrix.com/trac/wiki/TwistedSoftwareFoundation#Background">tax-deductible</a>.
</p>
<div class="donation-buttons">
    <div>
    <form action="https://www.paypal.com/cgi-bin/webscr" method="post">
        <input name="cmd" value="_s-xclick" type="hidden">
        <input name="hosted_button_id" value="ZB3NXPUZHQUKS" type="hidden">
        <input name="currency_code" value="USD" type="hidden">
        <input name="amount" value="25" type="hidden">
        <input src="btn_donate_lg.gif" alt="PayPal" border="0" type="image">
        <div style="text-align: center; padding-top: 3px; font-size: 0.85em; color: rgb(85, 85, 85);">PayPal</div>
        <img alt="" src="pixel.gif" height="1" border="0" width="1">
    </form>
    </div>
    <a href="https://flattr.com/thing/948720/Twisted-the-premier-networking-library-for-the-Python-language">
      <img src="flattr-badge-large.png" alt="Flattr us!" title="Flattr us!" border="0">
    </a>
</div>
<h1 id="TwistedSponsors"><a class="wiki" href="http://twistedmatrix.com/trac/wiki/TwistedSponsors">Twisted Sponsors</a></h1>
<p>
Participate in the <a class="wiki" href="http://twistedmatrix.com/trac/wiki/TwistedSoftwareFoundation#BenefitsofSponsorship">Twisted Project Sponsorship Program</a>! For <a class="wiki" href="http://twistedmatrix.com/trac/wiki/TwistedSoftwareFoundation#SponsorshipLevels">Silver Sidewinder and higher-level</a> sponsors, we will display your logo here on the front page for one year.  
</p>
<div class="twisted-sponsors"><h3 id="GoldenTreeSnake">Golden Tree Snake</h3>
<h3 id="SilverSidewinder">Silver Sidewinder</h3>
<p><a href="https://www.variomedia.de/" rel="nofollow"><img src="variomedia-rescaled.png"></a></p>
<p><a href="https://www.atlassian.com/" rel="nofollow"><img src="atlassian-hipchat-logo.png"></a></p>
</div></div></div></div><div style="display: table-cell;" class="centercol"><h1 id="WhatisTwisted">What is Twisted?</h1>
<p>
Twisted is an event-driven networking engine written in Python and licensed under the open source <a class="ext-link" href="http://www.opensource.org/licenses/mit-license.php"><span class="icon">​</span>MIT license</a>.
Twisted runs on Python 2 and an ever growing subset also works with Python 3.
</p>
<h2 id="CodeExamples">Code Examples</h2>
<ul id="frontpage-tabs" class="nav nav-tabs">
    <li class="active"><a href="#echoserver">Echo Server</a></li>
    <li><a href="#webserver">Web Server</a></li>
    <li><a href="#pubsubserver">Publish/Subscribe</a></li>
    <li><a href="#imap4client">Mail Client</a></li>
</ul>
<div class="tab-content"><div class="tab-pane active" id="echoserver"><p>
Twisted makes it easy to implement custom network applications. Here's a TCP server that echoes back everything that's written to it:
</p>
<div class="wiki-code"><div class="code"><pre><span class="kn">from</span> <span class="nn">twisted.internet</span> <span class="kn">import</span> protocol<span class="p">,</span> reactor<span class="p">,</span> endpoints

<span class="k">class</span> <span class="nc">Echo</span><span class="p">(</span>protocol<span class="o">.</span>Protocol<span class="p">):</span>
    <span class="k">def</span> <span class="nf">dataReceived</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> data<span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span>transport<span class="o">.</span>write<span class="p">(</span>data<span class="p">)</span>

<span class="k">class</span> <span class="nc">EchoFactory</span><span class="p">(</span>protocol<span class="o">.</span>Factory<span class="p">):</span>
    <span class="k">def</span> <span class="nf">buildProtocol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> addr<span class="p">):</span>
        <span class="k">return</span> Echo<span class="p">()</span>

endpoints<span class="o">.</span>serverFromString<span class="p">(</span>reactor<span class="p">,</span> <span class="s">"tcp:1234"</span><span class="p">)</span><span class="o">.</span>listen<span class="p">(</span>EchoFactory<span class="p">())</span>
reactor<span class="o">.</span>run<span class="p">()</span>
</pre></div></div><p>
Learn more about <a class="ext-link" href="https://twistedmatrix.com/documents/current/core/howto/servers.html"><span class="icon">​</span>writing servers</a>, <a class="ext-link" href="https://twistedmatrix.com/documents/current/core/howto/clients.html"><span class="icon">​</span>writing clients</a> and the <a class="ext-link" href="https://twistedmatrix.com/documents/current/core/howto/index.html"><span class="icon">​</span>core networking libraries </a>, including support for SSL, UDP, scheduled events, unit testing infrastructure, and much more.
</p>
</div><div class="tab-pane" id="webserver"><p>
Twisted includes an event-driven web server. Here's a sample web application; notice how the resource object persists in memory, rather than being recreated on each request:
</p>
<div class="wiki-code"><div class="code"><pre><span class="kn">from</span> <span class="nn">twisted.web</span> <span class="kn">import</span> server<span class="p">,</span> resource
<span class="kn">from</span> <span class="nn">twisted.internet</span> <span class="kn">import</span> reactor<span class="p">,</span> endpoints

<span class="k">class</span> <span class="nc">Counter</span><span class="p">(</span>resource<span class="o">.</span>Resource<span class="p">):</span>
    isLeaf <span class="o">=</span> <span class="bp">True</span>
    numberRequests <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">render_GET</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> request<span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span>numberRequests <span class="o">+=</span> <span class="mi">1</span>
        request<span class="o">.</span>setHeader<span class="p">(</span>b<span class="s">"content-type"</span><span class="p">,</span> b<span class="s">"text/plain"</span><span class="p">)</span>
        content <span class="o">=</span> <span class="s">u"I am request #{}</span><span class="se">\n</span><span class="s">"</span><span class="o">.</span>format<span class="p">(</span><span class="bp">self</span><span class="o">.</span>numberRequests<span class="p">)</span>
        <span class="k">return</span> content<span class="o">.</span>encode<span class="p">(</span><span class="s">"ascii"</span><span class="p">)</span>

endpoints<span class="o">.</span>serverFromString<span class="p">(</span>reactor<span class="p">,</span> <span class="s">"tcp:8080"</span><span class="p">)</span><span class="o">.</span>listen<span class="p">(</span>server<span class="o">.</span>Site<span class="p">(</span>Counter<span class="p">()))</span>
reactor<span class="o">.</span>run<span class="p">()</span>
</pre></div></div><p>
Learn more about <a class="ext-link" href="https://twistedmatrix.com/documents/current/web/howto/web-in-60/index.html"><span class="icon">​</span>web application development</a>, <a class="ext-link" href="https://twistedmatrix.com/documents/current/web/howto/twisted-templates.html"><span class="icon">​</span>templates</a> and Twisted's <a class="ext-link" href="https://twistedmatrix.com/documents/current/web/howto/client.html"><span class="icon">​</span>HTTP client</a>.
</p>
</div><div class="tab-pane" id="pubsubserver"><p>
Here's a simple publish/subscribe server, where clients see all messages posted by other clients:
</p>
<div class="wiki-code"><div class="code"><pre><span class="kn">from</span> <span class="nn">twisted.internet</span> <span class="kn">import</span> reactor<span class="p">,</span> protocol<span class="p">,</span> endpoints
<span class="kn">from</span> <span class="nn">twisted.protocols</span> <span class="kn">import</span> basic

<span class="k">class</span> <span class="nc">PubProtocol</span><span class="p">(</span>basic<span class="o">.</span>LineReceiver<span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> factory<span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span>factory <span class="o">=</span> factory

    <span class="k">def</span> <span class="nf">connectionMade</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span>factory<span class="o">.</span>clients<span class="o">.</span>add<span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">connectionLost</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> reason<span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span>factory<span class="o">.</span>clients<span class="o">.</span>remove<span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">lineReceived</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> line<span class="p">):</span>
        <span class="k">for</span> c <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span>factory<span class="o">.</span>clients<span class="p">:</span>
            source <span class="o">=</span> <span class="s">u"&lt;{}&gt; "</span><span class="o">.</span>format<span class="p">(</span><span class="bp">self</span><span class="o">.</span>transport<span class="o">.</span>getHost<span class="p">())</span><span class="o">.</span>encode<span class="p">(</span><span class="s">"ascii"</span><span class="p">)</span>
            c<span class="o">.</span>sendLine<span class="p">(</span>source <span class="o">+</span> line<span class="p">)</span>

<span class="k">class</span> <span class="nc">PubFactory</span><span class="p">(</span>protocol<span class="o">.</span>Factory<span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span>clients <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">buildProtocol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> addr<span class="p">):</span>
        <span class="k">return</span> PubProtocol<span class="p">(</span><span class="bp">self</span><span class="p">)</span>

endpoints<span class="o">.</span>serverFromString<span class="p">(</span>reactor<span class="p">,</span> <span class="s">"tcp:1025"</span><span class="p">)</span><span class="o">.</span>listen<span class="p">(</span>PubFactory<span class="p">())</span>
reactor<span class="o">.</span>run<span class="p">()</span>
</pre></div></div><p>
You can test this out by opening two terminals and doing <code>telnet localhost 1025</code> in each, then typing things.
</p>
</div><div class="tab-pane" id="imap4client"><p>
Twisted includes a sophisticated IMAP4 client library.
</p>
<div class="wiki-code"><div class="code"><pre><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> print_function

<span class="kn">import</span> <span class="nn">sys</span>

<span class="kn">from</span> <span class="nn">twisted.internet</span> <span class="kn">import</span> protocol<span class="p">,</span> defer<span class="p">,</span> endpoints<span class="p">,</span> task
<span class="kn">from</span> <span class="nn">twisted.mail</span> <span class="kn">import</span> imap4
<span class="kn">from</span> <span class="nn">twisted.python</span> <span class="kn">import</span> failure

<span class="nd">@defer.inlineCallbacks</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">(</span>reactor<span class="p">,</span> username<span class="o">=</span><span class="s">"alice"</span><span class="p">,</span> password<span class="o">=</span><span class="s">"secret"</span><span class="p">,</span>
         strport<span class="o">=</span><span class="s">"ssl:host=example.com:port=993"</span><span class="p">):</span>
    endpoint <span class="o">=</span> endpoints<span class="o">.</span>clientFromString<span class="p">(</span>reactor<span class="p">,</span> strport<span class="p">)</span>
    factory <span class="o">=</span> protocol<span class="o">.</span>Factory<span class="o">.</span>forProtocol<span class="p">(</span>imap4<span class="o">.</span>IMAP4Client<span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        client <span class="o">=</span> <span class="k">yield</span> endpoint<span class="o">.</span>connect<span class="p">(</span>factory<span class="p">)</span>
        <span class="k">yield</span> client<span class="o">.</span>login<span class="p">(</span>username<span class="p">,</span> password<span class="p">)</span>
        <span class="k">yield</span> client<span class="o">.</span>select<span class="p">(</span><span class="s">'INBOX'</span><span class="p">)</span>
        info <span class="o">=</span> <span class="k">yield</span> client<span class="o">.</span>fetchEnvelope<span class="p">(</span>imap4<span class="o">.</span>MessageSet<span class="p">(</span><span class="mi">1</span><span class="p">))</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'First message subject:'</span><span class="p">,</span> info<span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s">'ENVELOPE'</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"IMAP4 client interaction failed"</span><span class="p">)</span>
        failure<span class="o">.</span>Failure<span class="p">()</span><span class="o">.</span>printTraceback<span class="p">()</span>

task<span class="o">.</span>react<span class="p">(</span>main<span class="p">,</span> sys<span class="o">.</span>argv<span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</pre></div></div><p>
Give this a try, supplying your IMAP4 username, password, and <a class="ext-link" href="https://twistedmatrix.com/documents/current/core/howto/endpoints.html#auto7"><span class="icon">​</span>client endpoint description</a> for your IMAP4 server.  You'll see the subject of the first message in your mailbox printed.
</p>
<p>
See the <a class="wiki" href="http://twistedmatrix.com/trac/wiki/TwistedMail">TwistedMail</a> documentation for more information.
</p>
</div></div><h2 id="MoreProtocols">More Protocols</h2>
<p>
Twisted also supports many common network protocols, including SMTP, POP3, IMAP, SSHv2, and DNS. For more information see our <a class="wiki" href="http://twistedmatrix.com/trac/wiki/Documentation">documentation</a> and <a class="ext-link" href="https://twistedmatrix.com/documents/current/api/"><span class="icon">​</span>API reference</a>.
</p>
<h2 id="Community">Community</h2>
<p>
<a style="padding: 0px; border: medium none;" href="https://www.amazon.com/gp/product/1449326110/ref=as_li_qf_sp_asin_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1449326110&amp;linkCode=as2&amp;tag=twisted-sfconservancy-20"><img src="oreilly_book_cover.jpg" alt="https://twistedmatrix.com/trac/raw-attachment/wiki/AttachmentBucket/oreilly_book_cover.jpg" style="float: right;" title="https://twistedmatrix.com/trac/raw-attachment/wiki/AttachmentBucket/oreilly_book_cover.jpg"></a>
</p>
<ul><li>Get in touch with the <a class="wiki" href="http://twistedmatrix.com/trac/wiki/TwistedCommunity">Twisted community</a> through <a class="wiki" href="http://twistedmatrix.com/trac/wiki/TwistedCommunity#MailLists">email</a>, <a class="ext-link" href="http://stackoverflow.com/questions/tagged/twisted"><span class="icon">​</span>Stack Overflow</a> or <a class="wiki" href="http://twistedmatrix.com/trac/wiki/TwistedCommunity#IRC">IRC</a>;
</li><li>Learn about the Twisted <a class="wiki" href="http://twistedmatrix.com/trac/wiki/TwistedDevelopment">development process</a> and how to <a class="wiki" href="http://twistedmatrix.com/trac/wiki/ContributingToTwistedLabs">contribute</a>;
</li><li>Read about <a class="wiki" href="http://twistedmatrix.com/trac/wiki/ProjectsUsingTwisted">software using</a> Twisted and their <a class="wiki" href="http://twistedmatrix.com/trac/wiki/SuccessStories">success stories</a>;
</li><li>Find out what <a class="wiki" href="http://twistedmatrix.com/trac/wiki/TwistedMatrixLaboratories">Twisted Matrix Laboratories</a> is;
</li><li>Learn about the <a class="wiki" href="http://twistedmatrix.com/trac/wiki/TwistedSponsors">individuals and organisations</a> that aid Twisted with donations of hardware, software, hosting and other things;
</li><li>Help improve Twisted on <a class="wiki" href="http://twistedmatrix.com/trac/wiki/Windows">Windows</a>!
</li></ul></div></div></div>
          
          <div class="trac-modifiedby">
            <span><a href="http://twistedmatrix.com/trac/wiki/WikiStart?action=diff&amp;version=264" title="Version 264 by hawkowl: update url">Last modified</a> <a class="timeline" href="http://twistedmatrix.com/trac/timeline?from=2016-07-06T06%3A05%3A46-06%3A00&amp;precision=second" title="See timeline at 07/06/2016 06:05:46 AM">7 months ago</a></span>
            <span class="trac-print">Last modified on 07/06/2016 06:05:46 AM</span>
          </div>
        
        
      </div>
      

    </div>
    
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="last first">
          <a rel="nofollow" href="http://twistedmatrix.com/trac/wiki/WikiStart?format=txt">Plain Text</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" xml:lang="en" lang="en">
        <div class="sitemeter">
            <!-- Google analytics, obviously. -->
            
            
        </div>
        <div class="credits">
            <p><a href="http://twistedmatrix.com/trac/wiki/SiteCredits">Site design credits</a></p>
        </div>
        <div class="right">
            <p></p>
        </div>
    </div>
  
</body>
</html>
