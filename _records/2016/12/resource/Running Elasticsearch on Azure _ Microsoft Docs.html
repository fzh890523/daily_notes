<!DOCTYPE html>
<!-- saved from url=(0087)https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure -->
<html class="js noTouch" lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script async="" src="./Running Elasticsearch on Azure _ Microsoft Docs_files/open-rating.entry.min.js.下载"></script><script async="" src="./Running Elasticsearch on Azure _ Microsoft Docs_files/open-commenting.entry.min.js.下载"></script><script async="" src="./Running Elasticsearch on Azure _ Microsoft Docs_files/Livefyre.js.下载"></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Running Elasticsearch on Azure">
    <meta property="og:image" content="https://docs.microsoft.com/en-us/_themes/images/microsoft-header.png">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@docsmsft">
    <meta name="twitter:title" content="Running Elasticsearch on Azure">
    <meta name="twitter:description" content="How to install, configure, and run Elasticsearch on Azure.">
    <meta name="twitter:image" content="https://docs.microsoft.com/en-us/_themes/images/microsoft-header.png">    
    <meta name="twitter:image:alt" content="Microsoft Logo">
    
    <meta name="breadcrumb_path" content="/azure/bread/toc.json">
<meta name="tags" content="">
<meta name="ms.devlang" content="na">
<meta name="ms.tgt_pltfrm" content="na">
<meta name="ms.assetid" content="1d539b39-3c85-4e4b-98ae-ab06aed72fca">
<meta name="author" content="dragon119">
<meta name="editor" content="">
<meta name="description" content="How to install, configure, and run Elasticsearch on Azure.">
<meta name="ms.author" content="masashin">
<meta name="manager" content="bennage">
<meta name="documentationcenter" content="na">
<meta name="ms.topic" content="article">
<meta name="services" content="">
<meta name="ms.service" content="guidance">
<meta name="ms.date" content="09/22/2016">
<meta name="ms.workload" content="na">
<meta name="search.ms_sitename" content="Docs">
<meta name="search.ms_docsetname" content="azure-documents">
<meta name="version" content="0">
<meta name="locale" content="en-us">
<meta name="site_name" content="Docs">
<meta name="search.ms_product" content="Azure">
<meta name="depot_name" content="Azure.azure-documents">
<meta name="updated_at" content="2016-12-07 07:04 PM">
<meta name="gitcommit" content="https://github.com/Microsoft/azure-docs-pr/blob/dcda8b30adde930ab373a087d6955b900365c4cc/articles/guidance/guidance-elasticsearch-running-on-azure.md">
<meta name="original_content_git_url" content="https://github.com/Microsoft/azure-docs-pr/blob/live/articles/guidance/guidance-elasticsearch-running-on-azure.md">
<meta name="document_id" content="a78fb17d-8c6a-38e0-35a2-3c0ce0f5dcbe">
<meta name="pagetype" content="Conceptual">
<meta name="toc_rel" content="TOC.json">

    
    <meta name="scope" content="Azure">
    
    
      
    <meta name="brand" content="azure">
    
    <link href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure" rel="canonical">
    <title>Running Elasticsearch on Azure | Microsoft Docs</title>
    <link rel="stylesheet" href="./Running Elasticsearch on Azure _ Microsoft Docs_files/e0ce3378843779296d07.conceptual.css">
    <script>
	var msDocs = {
		data:{},
		functions:{}
	};
	</script>


<script>
	msDocs.data.pathToTheme = '../_themes/';
</script>

<link rel="stylesheet" href="./Running Elasticsearch on Azure _ Microsoft Docs_files/azureHeader.css">

<script>
function cdnfallback() {
	if (window.location.search.indexOf('cdn=disable') === -1) {
		window.location.href = '?cdn=disable';
	}
}
</script>

<!--[if lt IE 9]>
	<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.12.4.min.js"></script>
	<script src="../_themes/global/js/polyfills/all.js"></script>
	<script src="../_themes/global/js/azureHeader/respond_and_ie8Setup_combine.js"></script>
<![endif]-->
<!--[if gte IE 9]><!-->
	<script src="./Running Elasticsearch on Azure _ Microsoft Docs_files/jquery-2.2.4.min.js.下载"></script>
<!--<![endif]-->
<script>window.jQuery || document.write('<script src="../_themes/global/js/jquery/jquery-1.12.4.min.js"><\/script>')</script>

  <script src="./Running Elasticsearch on Azure _ Microsoft Docs_files/global.min.js.下载"></script>
<script src="./Running Elasticsearch on Azure _ Microsoft Docs_files/header.js.下载"></script>

<script src="./Running Elasticsearch on Azure _ Microsoft Docs_files/6607840572.js.下载"></script> 



  <script type="text/javascript" charset="utf-8" async="" src="./Running Elasticsearch on Azure _ Microsoft Docs_files/1.e0ce3378843779296d07.1.js.下载"></script><script type="text/javascript" charset="utf-8" async="" src="./Running Elasticsearch on Azure _ Microsoft Docs_files/4.e0ce3378843779296d07.4.js.下载"></script><script type="text/javascript" charset="utf-8" async="" src="./Running Elasticsearch on Azure _ Microsoft Docs_files/2.e0ce3378843779296d07.2.js.下载"></script><meta name="ms.EXP" content="undefined"><meta name="ms.SID" content="9F3D7DC4-C85F-4B29-B56D-BAE1D972ACF6"><meta name="ms.documentid" content="a78fb17d-8c6a-38e0-35a2-3c0ce0f5dcbe"><meta name="ms.contentlang" content="en-us"><meta name="ms.publishtime" content="2016-12-07 07:04 PM"><meta name="ms.giturl" content="https://github.com/Microsoft/azure-docs-pr/blob/live/articles/guidance/guidance-elasticsearch-running-on-azure.md"><meta name="ms.sitename" content="Docs"><meta name="ms.gitcommit" content="https://github.com/Microsoft/azure-docs-pr/blob/dcda8b30adde930ab373a087d6955b900365c4cc/articles/guidance/guidance-elasticsearch-running-on-azure.md"><meta name="ms.depotname" content="Azure.azure-documents"><meta name="ms.opspagetype" content="Conceptual"><meta name="ms.locale" content="en-us"><meta name="ms.lang" content="en"><meta name="ms.loc" content="us"><meta name="ms.contentsource" content="OP"><meta name="ms.perf.timing" content=",,0,5,732,732,1498,1858,1508,2795,2795,2904,,,"><script type="text/javascript" charset="utf-8" async="" src="./Running Elasticsearch on Azure _ Microsoft Docs_files/3.e0ce3378843779296d07.3.js.下载"></script><script type="text/javascript" charset="utf-8" async="" src="./Running Elasticsearch on Azure _ Microsoft Docs_files/7.e0ce3378843779296d07.7.js.下载"></script></head>
  <body mycollectionplug="bind">

<div class="az_h default">

    <header data-tag-area="header" data-tag-group="header"> <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" class="skip-nav" title="Skip Navigation">Skip Navigation</a> <div class="row column"> <a href="https://azure.microsoft.com/en-us/" class="logo" title="Microsoft Azure"> <svg x="0px" y="0px" width="165px" height="20px" viewBox="0 0 165 20"> <path fill="#29A5DE" d="M18,19H16V7.1C16,6.2,16,5,16.1,3.7h0c-0.2,0.8-0.4,1.4-0.5,1.7L9.5,19h-1l-6-13.5c-0.2-0.4-0.3-1-0.5-1.8
                    h0C2,4.4,2,5.5,2,7.1V19H0V1.3h2.7l5.4,12.3c0.4,0.9,0.7,1.7,0.8,2.1H9c0.4-1,0.6-1.7,0.9-2.2l5.5-12.3H18V19z"></path> <path fill="#29A5DE" d="M22.8,3.1c-0.4,0-0.7-0.1-0.9-0.4s-0.4-0.6-0.4-0.9s0.1-0.7,0.4-0.9c0.3-0.3,0.6-0.4,0.9-0.4
                    c0.4,0,0.7,0.1,0.9,0.4c0.3,0.3,0.4,0.6,0.4,0.9c0,0.4-0.1,0.7-0.4,0.9C23.5,3,23.2,3.1,22.8,3.1z M23.8,19h-2V6.3h2V19z"></path> <path fill="#29A5DE" d="M35.8,18.4c-1,0.6-2.1,0.9-3.5,0.9c-1.8,0-3.3-0.6-4.4-1.8c-1.1-1.2-1.7-2.7-1.7-4.6c0-2.1,0.6-3.7,1.8-5
                    C29.4,6.7,30.9,6,32.9,6C34,6,35,6.2,35.9,6.7v2.1c-0.9-0.7-1.9-1-3-1c-1.3,0-2.3,0.5-3.2,1.4c-0.8,0.9-1.2,2.1-1.2,3.6
                    c0,1.5,0.4,2.6,1.2,3.5c0.8,0.9,1.8,1.3,3.1,1.3c1.1,0,2.1-0.4,3.1-1.1V18.4z"></path> <path fill="#29A5DE" d="M44.9,8.4C44.5,8.1,44,8,43.3,8c-0.9,0-1.6,0.4-2.2,1.2c-0.6,0.8-0.9,1.9-0.9,3.3V19h-2V6.3h2v2.6h0
                    c0.3-0.9,0.7-1.6,1.3-2.1c0.6-0.5,1.3-0.7,2-0.7c0.5,0,0.9,0.1,1.2,0.2V8.4z"></path> <path fill="#29A5DE" d="M51.4,19.3c-1.9,0-3.4-0.6-4.5-1.8c-1.1-1.2-1.7-2.7-1.7-4.7c0-2.1,0.6-3.8,1.7-5S49.7,6,51.7,6
                    c1.9,0,3.4,0.6,4.4,1.7c1.1,1.2,1.6,2.8,1.6,4.8c0,2-0.6,3.6-1.7,4.8C54.8,18.6,53.3,19.3,51.4,19.3z M51.5,7.7
                    c-1.3,0-2.3,0.4-3.1,1.3c-0.8,0.9-1.1,2.1-1.1,3.7c0,1.5,0.4,2.7,1.1,3.5c0.8,0.9,1.8,1.3,3.1,1.3c1.3,0,2.3-0.4,3-1.3
                    c0.7-0.8,1.1-2,1.1-3.6c0-1.6-0.4-2.8-1.1-3.6C53.8,8.2,52.8,7.7,51.5,7.7z"></path> <path fill="#29A5DE" d="M59.5,18.5v-2.2c1.1,0.8,2.3,1.2,3.6,1.2c1.8,0,2.7-0.6,2.7-1.8c0-0.3-0.1-0.6-0.2-0.9
                    c-0.2-0.2-0.4-0.4-0.6-0.6c-0.3-0.2-0.6-0.3-0.9-0.5c-0.3-0.1-0.7-0.3-1.1-0.4c-0.6-0.2-1-0.4-1.5-0.7c-0.4-0.2-0.8-0.5-1.1-0.8
                    c-0.3-0.3-0.5-0.6-0.6-1c-0.1-0.4-0.2-0.8-0.2-1.3c0-0.6,0.1-1.1,0.4-1.6C60.2,7.7,60.5,7.3,61,7c0.5-0.3,1-0.5,1.5-0.7
                    C63.1,6.1,63.7,6,64.3,6c1.1,0,2.1,0.2,2.9,0.6v2c-0.9-0.6-2-0.9-3.2-0.9c-0.4,0-0.7,0-1,0.1c-0.3,0.1-0.6,0.2-0.8,0.4
                    c-0.2,0.2-0.4,0.3-0.5,0.6c-0.1,0.2-0.2,0.5-0.2,0.7c0,0.3,0.1,0.6,0.2,0.8c0.1,0.2,0.3,0.4,0.5,0.6c0.2,0.2,0.5,0.3,0.8,0.5
                    c0.3,0.1,0.7,0.3,1.1,0.5c0.6,0.2,1.1,0.4,1.5,0.7c0.4,0.2,0.8,0.5,1.1,0.8c0.3,0.3,0.6,0.6,0.7,1c0.2,0.4,0.3,0.8,0.3,1.3
                    c0,0.6-0.1,1.2-0.4,1.6c-0.3,0.5-0.6,0.8-1.1,1.1c-0.5,0.3-1,0.5-1.6,0.7c-0.6,0.1-1.2,0.2-1.9,0.2C61.6,19.3,60.4,19,59.5,18.5z"></path> <path fill="#29A5DE" d="M75.6,19.3c-1.9,0-3.4-0.6-4.5-1.8c-1.1-1.2-1.7-2.7-1.7-4.7c0-2.1,0.6-3.8,1.7-5C72.4,6.6,73.9,6,75.9,6
                    c1.9,0,3.4,0.6,4.4,1.7c1.1,1.2,1.6,2.8,1.6,4.8c0,2-0.6,3.6-1.7,4.8C79,18.6,77.5,19.3,75.6,19.3z M75.7,7.7
                    c-1.3,0-2.3,0.4-3.1,1.3c-0.8,0.9-1.1,2.1-1.1,3.7c0,1.5,0.4,2.7,1.1,3.5c0.8,0.9,1.8,1.3,3.1,1.3c1.3,0,2.3-0.4,3-1.3
                    c0.7-0.8,1.1-2,1.1-3.6c0-1.6-0.4-2.8-1.1-3.6C78.1,8.2,77,7.7,75.7,7.7z"></path> <path fill="#29A5DE" d="M97.6,8.1V6.3h-3.2V2.6l-2,0.7v3.1h-2.6h-1.5h-1.4V4.4c0-1.8,0.7-2.7,2.1-2.7c0.5,0,0.9,0.1,1.3,0.3V0.2
                    C89.9,0.1,89.4,0,88.8,0c-1.1,0-2.1,0.4-2.9,1.2c-0.8,0.8-1.1,1.8-1.1,3.1v2h-2.2v1.7h2.2V19h2V8.1h1.4h1.5h2.6v7.5
                    c0,2.5,1.1,3.7,3.3,3.7c0.8,0,1.4-0.1,1.9-0.4v-1.7c-0.4,0.3-0.8,0.4-1.3,0.4c-0.7,0-1.1-0.2-1.4-0.5c-0.3-0.4-0.4-1-0.4-1.8V8.1
                    H97.6z"></path> <path fill="#29A5DE" d="M119.9,19h-2.3l-1.9-5h-7.5l-1.8,5h-2.3L111,1.3h2.1L119.9,19z M115.1,12.1l-2.8-7.5
                    c-0.1-0.2-0.2-0.6-0.3-1.2h0c-0.1,0.5-0.2,0.9-0.3,1.2l-2.7,7.5H115.1z"></path> <path fill="#29A5DE" d="M130.4,6.9l-7.5,10.3h7.4V19H120v-0.6l7.5-10.3h-6.8V6.3h9.7V6.9z"></path> <path fill="#29A5DE" d="M142.6,19h-2v-2h0c-0.8,1.5-2.1,2.3-3.9,2.3c-3,0-4.5-1.8-4.5-5.4V6.3h2v7.2c0,2.7,1,4,3.1,4
                    c1,0,1.8-0.4,2.4-1.1c0.6-0.7,1-1.7,1-2.9V6.3h2V19z"></path> <path fill="#29A5DE" d="M152.6,8.4c-0.4-0.3-0.9-0.4-1.5-0.4c-0.9,0-1.6,0.4-2.2,1.2c-0.6,0.8-0.9,1.9-0.9,3.3V19h-2V6.3h2v2.6h0
                    c0.3-0.9,0.7-1.6,1.3-2.1c0.6-0.5,1.3-0.7,2-0.7c0.5,0,0.9,0.1,1.2,0.2V8.4z"></path> <path fill="#29A5DE" d="M164,13.1h-8.9c0,1.4,0.4,2.5,1.1,3.3c0.7,0.8,1.7,1.1,3,1.1c1.4,0,2.7-0.5,3.9-1.4V18
                    c-1.1,0.8-2.6,1.2-4.4,1.2c-1.8,0-3.2-0.6-4.2-1.7c-1-1.1-1.5-2.8-1.5-4.8c0-2,0.6-3.6,1.7-4.8c1.1-1.2,2.5-1.9,4.1-1.9
                    s2.9,0.5,3.8,1.6s1.4,2.6,1.4,4.4V13.1z M161.9,11.4c0-1.2-0.3-2.1-0.8-2.7c-0.6-0.6-1.3-1-2.3-1c-1,0-1.8,0.3-2.4,1
                    c-0.7,0.7-1.1,1.6-1.2,2.7H161.9z"></path> </svg> </a> <div class="large-free-trial"> <a data-event="global-clicked-primarycta" class="button button-primary" id="A1" href="https://azure.microsoft.com/en-us/free/" title="Free account">Free account</a> </div> <div class="relative-container"> <ul class="menu-tools" id="old-search"> <li class="sales"> <a href="https://azure.microsoft.com/en-us/overview/sales-number/" data-event="global-clicked-saleslink" title="Sales"> Sales <span data-control="geophone">1-800-867-1389</span> </a> <span class="slider-sales-tooltip"> <span> <p>Questions about Azure? Contact our sales team.</p> <p><span data-control="geocountry" style="text-transform: capitalize;">United States</span>: <span data-control="geophone">1-800-867-1389</span><br> <span data-control="united-states-sales-phone">United States: 1-800-867-1389</span></p> <a href="https://azure.microsoft.com/en-us/overview/sales-number/" class="wa-arrowLink wa-arrowLink-blue">Find a local number or submit query form</a> </span> </span> </li> <li><a href="https://azure.microsoft.com/en-us/account/" data-event="global-clicked-myaccountlink" title="My Account">My Account</a></li> <li><a href="https://portal.azure.com/" data-event="global-clicked-portallink" title="Portal">Portal</a></li> <li class="search az_hUpdated"> <div class="wa-text-light wa-textSearch" data-control="textbox"> <input class="text-input" id="MainSearchBox" placeholder="Search" onkeypress="return checkForEnterKey(event, &#39;MainSearchBox&#39;);"> <button type="button" id="header-search-button" class="search-button" title="Search" onclick="doSearch(&#39;MainSearchBox&#39;); return false;"></button> </div> </li> </ul> </div> <ul class="menu-tools" id="modern-search"> <li class="search az_hUpdated"> <div class="wa-text wa-text-light wa-textSearch" data-control="textbox"> <input class="text-input" id="ModernMainSearchBox" placeholder="Search" onkeypress="return checkForEnterKey(event, &#39;ModernMainSearchBox&#39;);"> <button type="button" id="header-search-button" class="search-button" title="Search" onclick="doSearch(&#39;ModernMainSearchBox&#39;); return false;"></button> <button type="button" id="header-search-button-expand" class="search-button" title="Search" onclick="expandSearch(&#39;ModernMainSearchBox&#39;)"></button> </div> </li> <li class="sales"> <a href="https://azure.microsoft.com/en-us/overview/sales-number/" title="Sales"> Sales <span data-control="geophone">1-800-867-1389</span> </a> <span class="slider-sales-tooltip"> <span> <p>Questions about Azure? Contact our sales team.</p> <p><span data-control="geocountry" style="text-transform: capitalize;">United States</span>: <span data-control="geophone">1-800-867-1389</span><br> <span data-control="united-states-sales-phone">United States: 1-800-867-1389</span></p> <a href="https://azure.microsoft.com/en-us/overview/sales-number/" class="wa-arrowLink wa-arrowLink-blue">Find a local number or submit query form</a> </span> </span> </li> <li><a href="https://azure.microsoft.com/en-us/account/" title="My Account">My Account</a></li> <li><a href="https://portal.azure.com/" title="Portal">Portal</a></li> </ul> <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" class="small-hamburger"> <span class="icon-hamburger"></span> </a> <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" class="small-search"> <span class="icon icon-search"><svg style="display:none; visibility:hidden;"><defs><symbol id="magnifying-glass" viewBox="0 0 16 16"> <path fill="#FFFFFF" d="M1.8,16c-0.5,0-0.9-0.2-1.2-0.5C0.2,15.2,0,14.7,0,14.3c0-0.5,0.2-0.9,0.5-1.2l4.2-4.2C4,7.5,3.8,6,4.2,4.6 C4.8,1.9,7.2,0,10,0c0.5,0,1,0.1,1.4,0.2c1.6,0.4,2.9,1.4,3.7,2.7s1,3,0.7,4.6c-0.6,2.7-3,4.6-5.8,4.6c-0.5,0-1-0.1-1.4-0.2 c-0.5-0.2-1-0.3-1.4-0.6L3,15.4C2.6,15.8,2.2,16,1.8,16 M10,2.2c-1.8,0-3.2,1.2-3.6,2.9c-0.2,1-0.1,2.1,0.6,3c0.2,0.4,0.6,0.7,1,1 c0.4,0.2,0.8,0.5,1.2,0.6C9.5,9.7,9.7,9.7,10,9.7c1.8,0,3.2-1.2,3.6-2.9c0.2-1,0.1-2-0.4-2.8c-0.6-0.8-1.4-1.4-2.3-1.6 C10.6,2.3,10.3,2.2,10,2.2"></path> </symbol> </defs></svg><svg><use xlink:href="#magnifying-glass"></use></svg></span> </a> <ul class="menu"> <li> <a data-event="global-clicked-topnav" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" title="Why Azure">Why Azure</a> <div> <ul class="menu-drop menu-drop-why-azure"> <li> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/overview/what-is-azure/" title="What is Azure" class="label">What is Azure</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/overview/what-is-azure/" title="What is Azure" class="sub">Learn the basics about Microsoft's cloud platform</a> </li> <li> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/support/trust-center/" title="Cloud you can trust" class="label">Cloud you can trust</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/support/trust-center/" title="Cloud you can trust" class="sub">Learn about security, privacy, transparency, and disaster recovery</a> </li> <li> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/support/trust-center/compliance/" title="Compliance and certifications" class="label">Compliance and certifications</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/support/trust-center/compliance/" title="Compliance and certifications" class="sub">Learn about independently verified compliance certifications</a> </li> <li> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/case-studies/" title="Case studies" class="label">Case studies</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/case-studies/" title="Case studies" class="sub">People are doing amazing things with Azure, hear their stories</a> </li> <li> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/overview/azure-vs-aws/" title="Azure vs. AWS" class="label">Azure vs. AWS</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/overview/azure-vs-aws/" title="Azure vs. AWS" class="sub">Which public cloud is right for you?</a> </li> <li> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/overview/business-apps-on-azure/" title="Azure for your business applications" class="label">Azure for your business applications</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/overview/business-apps-on-azure/" title="Azure for your business applications" class="sub">Learn about the benefits of running your business apps on Microsoft’s cloud platform</a> </li> <li> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/overview/webinars/" title="Webinars" class="label">Webinars</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/overview/webinars/" title="Webinars" class="sub">Watch live online presentations about the latest features</a> </li> <li> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/get-started/" title="Get started" class="label">Get started</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/get-started/" title="Get started" class="sub">Learn how to get started quickly with Azure</a> </li> </ul> <div class="free-trial free-trial-why-azure"> <div> <span class="icon icon-size13"><svg style="display:none; visibility:hidden;"><defs><symbol id="azure" viewBox="-1 -1 34 34"> <path d="M19,17.4c-0.8,0-1.5,0.5-1.9,1.2H5.3v0c-2,0-3.6-1.6-3.6-3.6s1.6-3.6,3.6-3.6v0h0h0H7 c0.1-0.4,0.2-0.8,0.4-1.2C7.4,10,7.5,9.8,7.5,9.7c0.8-1.5,2.4-2.4,4.2-2.4c1.6,0,3,0.8,3.9,2c0.5-0.2,1-0.4,1.6-0.5 c-1.1-1.8-3.2-3.1-5.5-3.1c-2.7,0-5,1.7-6,4.1c0,0,0,0,0,0l0,0c0,0,0,0,0,0H5.3C2.4,9.7,0,12.1,0,15c0,2.9,2.4,5.3,5.3,5.3h11.9 c0.3,0.7,1,1.2,1.9,1.2c1.1,0,2-0.9,2-2C21.1,18.3,20.2,17.4,19,17.4z"></path> <path d="M25.6,13.4C24.4,11,21.9,9.3,19,9.3c-3.5,0-6.4,2.4-7.1,5.7c-1.7,0.2-3.2,1.1-4.1,2.4h8.7 c0.6-0.7,1.5-1.2,2.5-1.2c1.8,0,3.2,1.5,3.2,3.2c0,1.8-1.5,3.2-3.2,3.2c-1,0-1.9-0.5-2.5-1.2H6.9c0.4,2.8,2.8,4.9,5.6,4.9 c0,0,0,0,0,0v0h13v0c0,0,0,0,0,0c3.6,0,6.5-2.9,6.5-6.5C32,16.3,29.1,13.4,25.6,13.4z"></path> </symbol> </defs></svg><svg><use xlink:href="#azure"></use></svg></span> <p>Sign up for free and get <span class="price-data " data-amount="{&quot;currencies&quot;:{&quot;USD&quot;:200.0,&quot;ARS&quot;:2800.0,&quot;AUD&quot;:260.0,&quot;BRL&quot;:750.0,&quot;CAD&quot;:250.0,&quot;CHF&quot;:190.0,&quot;DKK&quot;:1300.0,&quot;EUR&quot;:170.0,&quot;GBP&quot;:125.0,&quot;HKD&quot;:1600.0,&quot;IDR&quot;:2940000.0,&quot;INR&quot;:12100.0,&quot;JPY&quot;:20500.0,&quot;KRW&quot;:240000.0,&quot;MXN&quot;:3600.0,&quot;MYR&quot;:900.0,&quot;NOK&quot;:1650.0,&quot;NZD&quot;:300.0,&quot;RUB&quot;:12500.0,&quot;SAR&quot;:750.0,&quot;SEK&quot;:1600.0,&quot;TRY&quot;:610.0,&quot;TWD&quot;:6300.0,&quot;ZAR&quot;:3450.0}}" data-decimals="0">$200</span> to spend on all Azure services</p> <a href="https://azure.microsoft.com/en-us/free/" title="Learn more" class="wa-arrowLink wa-arrowLink-light" data-event="global-clicked-menumessage" data-event-property="Why Azure">Learn more</a> </div> </div> </div> </li> <li><a data-event="global-clicked-topnav" href="https://azure.microsoft.com/en-us/solutions/" title="Solutions">Solutions</a></li> <li> <a data-event="global-clicked-topnav" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" title="Products">Products</a> <div> <ul class="menu-drop menu-drop-features"> <li> <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" title="Compute">Compute</a> <ul class="menu-pop" id="Compute-category"> <li class="title">Compute</li> <li data-product-slug="virtual-machines"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/virtual-machines/" title="Virtual Machines" class="label">Virtual Machines</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/virtual-machines/" title="Virtual Machines" class="sub">Provision Windows and Linux virtual machines in minutes</a> </li> <li data-product-slug="virtual-machine-scale-sets"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/virtual-machine-scale-sets/" title="Virtual Machine Scale Sets" class="label">Virtual Machine Scale Sets</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/virtual-machine-scale-sets/" title="Virtual Machine Scale Sets" class="sub">Manage and scale 10s to 1000s of Linux and Windows VMs</a> </li> <li data-product-slug="app-service"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/app-service/" title="App Service" class="label">App Service</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/app-service/" title="App Service" class="sub">Create web and mobile apps for any platform and any device</a> </li> <li data-product-slug="container-service"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/container-service/" title="Azure Container Service" class="label">Azure Container Service</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/container-service/" title="Azure Container Service" class="sub">Use Docker based tools to deploy and manage containers</a> </li> <li data-product-slug="container-registry"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/container-registry/" title="Azure Container Registry" class="label">Azure Container Registry</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/container-registry/" title="Azure Container Registry" class="sub">Store images for container deployments—Docker Swarm, DC/OS, and more</a> </li> <li data-product-slug="functions"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/functions/" title="Functions" class="label">Functions</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/functions/" title="Functions" class="sub">Process events with serverless code</a> </li> <li data-product-slug="batch"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/batch/" title="Batch" class="label">Batch</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/batch/" title="Batch" class="sub">Run large-scale parallel and batch compute jobs</a> </li> <li data-product-slug="service-fabric"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/service-fabric/" title="Service Fabric" class="label">Service Fabric</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/service-fabric/" title="Service Fabric" class="sub">Build and operate always-on, scalable, distributed applications</a> </li> <li data-product-slug="cloud-services"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/cloud-services/" title="Cloud Services" class="label">Cloud Services</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/cloud-services/" title="Cloud Services" class="sub">Create highly available, infinitely scalable cloud applications and APIs</a> </li> </ul> <div class="free-trial"> <div> <p>Get credits that enable:</p> <p>4 Windows or Linux Virtual Machines</p> <p>24 x 7 for a month</p> <p>And much more...</p> <a href="https://azure.microsoft.com/en-us/free/" title="Learn more" class="wa-arrowLink wa-arrowLink-light" data-event="global-clicked-menumessage" data-event-property="Products (Compute)">Learn more</a> <span class="icon icon-size17"><svg style="display:none; visibility:hidden;"><defs><symbol id="virtual-machines" viewBox="0 0 51 47"> <path fill="#7A7A7A" d="M32.9,36.9h-1.2H19.9h-0.6c1.6,5.7-0.6,6.6-10.2,6.6v3h12.2h8.9h11.5v-3 C32.2,43.5,31.3,42.7,32.9,36.9z"></path> <path fill="#3E3E3E" d="M47.5,0.5H3.2c-1.5,0-2.7,1.3-2.7,2.8v30.8c0,1.5,1.2,2.8,2.7,2.8h44.3c1.5,0,3-1.3,3-2.8V3.3 C50.5,1.8,49,0.5,47.5,0.5z M46.7,4.3v28.7H4.3V4.3l42.4-0.1L46.7,4.3z"></path> <polygon fill="#00BBF1" points="46.6,4.3 46.6,33.1 4.3,33.1 4.3,4.3 46.7,4.3"></polygon> <path fill="#7A7A7A" d="M4.3,33.1L4.3,33.1L4.3,4.3L43,4.3l4.5-3.8c0,0,0,0,0,0H3.2c-1.5,0-2.7,1.3-2.7,2.8v30.8 c0,1.5,1.2,2.8,2.7,2.8h1.1l4.6-3.8H4.3z"></path> <polygon fill="#59B4D9" points="4.3,33.1 4.3,33.1 4.3,4.3 43,4.3 43,4.3 4.3,4.3"></polygon> <rect x="9.2" y="43.5" fill="#B0B0B0" width="32.7" height="3"></rect> <circle fill="#BAC84A" cx="25.3" cy="2.6" r="0.7"></circle> <path opacity="0.9" fill="#FFFFFF" d="M25.5,18.2c0,0-0.1,0-0.1,0l-8.8-5.1c-0.1,0-0.1-0.1-0.1-0.2c0-0.1,0.1-0.2,0.1-0.2l8.7-5 c0.1,0,0.2,0,0.3,0l8.8,5.1c0.1,0,0.1,0.1,0.1,0.2c0,0.1,0,0.2-0.1,0.2l-8.7,5C25.6,18.2,25.5,18.2,25.5,18.2z"></path> <g opacity="0.8"> <path fill="#FFFFFF" d="M24.2,30.5c0,0-0.1,0-0.1,0l-8.8-5c-0.1,0-0.1-0.1-0.1-0.2V15.1c0-0.1,0-0.2,0.1-0.2 c0.1,0,0.2,0,0.3,0l8.8,5c0.1,0,0.1,0.1,0.1,0.2v10.1c0,0.1-0.1,0.2-0.1,0.2C24.3,30.5,24.3,30.5,24.2,30.5z"></path> </g> <path opacity="0.5" fill="#FFFFFF" d="M26.7,30.5c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.1-0.2V20.2c0-0.1,0.1-0.2,0.1-0.2l8.8-5 c0.1,0,0.2,0,0.3,0c0.1,0,0.1,0.1,0.1,0.2v10.1c0,0.1-0.1,0.2-0.1,0.2l-8.8,5C26.8,30.5,26.7,30.5,26.7,30.5z"></path> </symbol> </defs></svg><svg><use xlink:href="#virtual-machines"></use></svg></span> </div> </div> </li> <li> <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" title="Networking">Networking</a> <ul class="menu-pop" id="Networking-category"> <li class="title">Networking</li> <li data-product-slug="virtual-network"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/virtual-network/" title="Virtual Network" class="label">Virtual Network</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/virtual-network/" title="Virtual Network" class="sub">Provision private networks, optionally connect to on-premises datacenters</a> </li> <li data-product-slug="load-balancer"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/load-balancer/" title="Load Balancer" class="label">Load Balancer</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/load-balancer/" title="Load Balancer" class="sub">Deliver high availability and network performance to your applications</a> </li> <li data-product-slug="application-gateway"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/application-gateway/" title="Application Gateway" class="label">Application Gateway</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/application-gateway/" title="Application Gateway" class="sub">Layer 7 Load Balancer with built-in HTTP load balancing and delivery control</a> </li> <li data-product-slug="vpn-gateway"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/vpn-gateway/" title="VPN Gateway" class="label">VPN Gateway</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/vpn-gateway/" title="VPN Gateway" class="sub">Establish secure, cross-premises connectivity</a> </li> <li data-product-slug="dns"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/dns/" title="Azure DNS" class="label">Azure DNS</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/dns/" title="Azure DNS" class="sub">Host your DNS domain in Azure</a> </li> <li data-product-slug="cdn"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/cdn/" title="CDN" class="label">CDN</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/cdn/" title="CDN" class="sub">Deliver content to end-users through a robust network of global data centers</a> </li> <li data-product-slug="traffic-manager"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/traffic-manager/" title="Traffic Manager" class="label">Traffic Manager</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/traffic-manager/" title="Traffic Manager" class="sub">Route incoming traffic for high performance and availability</a> </li> <li data-product-slug="expressroute"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/expressroute/" title="ExpressRoute" class="label">ExpressRoute</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/expressroute/" title="ExpressRoute" class="sub">Dedicated private network fiber connections to Azure</a> </li> </ul> <div class="free-trial"> <div> <p>Connect Virtual Machines with Virtual Network for free.</p> <a href="https://azure.microsoft.com/en-us/free/" title="Learn more" class="wa-arrowLink wa-arrowLink-light" data-event="global-clicked-menumessage" data-event-property="Products (Networking)">Learn more</a> <span class="icon icon-size17"><svg style="display:none; visibility:hidden;"><defs><symbol id="virtual-network" viewBox="0 0 50 50"> <path fill="#3999C6" d="M49.7,25.7c0.5-0.5,0.4-1.3,0-1.8l-2.4-2.4L36.5,11c-0.5-0.5-1.2-0.5-1.7,0l0,0c-0.5,0.5-0.6,1.3,0,1.8 l11.3,11.1c0.5,0.5,0.5,1.3,0,1.8L34.6,37.2c-0.5,0.5-0.5,1.3,0,1.8l0,0c0.5,0.5,1.3,0.4,1.7,0l10.7-10.6c0,0,0,0,0.1-0.1L49.7,25.7 z"></path> <path fill="#3999C6" d="M0.3,25.7c-0.5-0.5-0.4-1.3,0-1.8l2.4-2.4L13.5,11c0.5-0.5,1.2-0.5,1.7,0l0,0c0.5,0.5,0.6,1.3,0,1.8 L4.1,23.9c-0.5,0.5-0.5,1.3,0,1.8l11.3,11.5c0.5,0.5,0.5,1.3,0,1.8l0,0c-0.5,0.5-1.3,0.4-1.7,0L2.8,28.5c0,0,0,0-0.1-0.1L0.3,25.7z"></path> <path fill="#7FBA00" d="M18.2,24.8c0,1.9-1.6,3.3-3.3,3.3s-3.5-1.6-3.5-3.3s1.4-3.3,3.5-3.3C16.9,21.5,18.2,23.1,18.2,24.8z"></path> <path fill="#7FBA00" d="M28.3,24.8c0,1.9-1.6,3.3-3.3,3.3s-3.5-1.6-3.5-3.3s1.6-3.3,3.5-3.3S28.3,23.1,28.3,24.8z"></path> <circle fill="#7FBA00" cx="35.2" cy="24.8" r="3.3"></circle> </symbol> </defs></svg><svg><use xlink:href="#virtual-network"></use></svg></span> </div> </div> </li> <li> <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" title="Storage">Storage</a> <ul class="menu-pop" id="Storage-category"> <li class="title">Storage</li> <li data-product-slug="storage"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/storage/" title="Storage" class="label">Storage</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/storage/" title="Storage" class="sub">Durable, highly available, and massively scalable cloud storage</a> </li> <li class="indent" data-product-slug="blob-storage"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/storage/blobs/" title="Blob Storage" class="label">Blob Storage</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/storage/blobs/" title="Blob Storage" class="sub">REST-based object storage for unstructured data</a> </li> <li class="indent" data-product-slug="storage\queues"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/storage/queues/" title="Queue Storage" class="label">Queue Storage</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/storage/queues/" title="Queue Storage" class="sub">Effectively scale apps according to traffic</a> </li> <li class="indent" data-product-slug="storage\files"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/storage/files/" title="File Storage" class="label">File Storage</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/storage/files/" title="File Storage" class="sub">File shares that use the standard SMB 3.0 protocol</a> </li> <li class="indent" data-product-slug="premium-storage"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/storage/disks/" title="Disk Storage" class="label">Disk Storage</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/storage/disks/" title="Disk Storage" class="sub">Persistent, secured disk options supporting virtual machines</a> </li> <li data-product-slug="data-lake-store"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/data-lake-store/" title="Data Lake Store" class="label">Data Lake Store</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/data-lake-store/" title="Data Lake Store" class="sub">Hyperscale repository for big data analytics workloads</a> </li> <li data-product-slug="storsimple"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/storsimple/" title="StorSimple" class="label">StorSimple</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/storsimple/" title="StorSimple" class="sub">Hybrid cloud storage for enterprises, reduces costs and improves data security</a> </li> <li data-product-slug="backup"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/backup/" title="Backup" class="label">Backup</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/backup/" title="Backup" class="sub">Simple and reliable server backup to the cloud</a> </li> <li data-product-slug="site-recovery"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/site-recovery/" title="Site Recovery" class="label">Site Recovery</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/site-recovery/" title="Site Recovery" class="sub">Orchestrate protection and recovery of private clouds</a> </li> </ul> <div class="free-trial"> <div> <p>Get credits that enable:</p> <p>8 standard SQL Databases</p> <p>Hadoop instance for a week</p> <p>And much more...</p> <a href="https://azure.microsoft.com/en-us/free/" title="Learn more" class="wa-arrowLink wa-arrowLink-light" data-event="global-clicked-menumessage" data-event-property="Products (Data &amp; Storage)">Learn more</a> <span class="icon icon-size17"><svg style="display:none; visibility:hidden;"><defs><symbol id="storage" viewBox="0 0 50 50"> <path fill="#A0A1A2" d="M0,44.4c0,1,0.7,1.9,1.9,1.9h46.2c1,0,1.9-0.7,1.9-1.9V11.3H0V44.4z"></path> <path fill="#7A7A7A" d="M48.1,3.7H1.9C0.7,3.7,0,4.6,0,5.6v5.7h50V5.6C50,4.6,49.3,3.7,48.1,3.7"></path> <rect x="18.8" y="14.6" fill="#FFFFFF" width="12.6" height="7.6"></rect> <rect x="18.8" y="24.9" fill="#FCD116" width="12.6" height="7.6"></rect> <rect x="33.8" y="24.9" fill="#FCD116" width="12.6" height="7.6"></rect> <rect x="33.8" y="14.6" fill="#FFFFFF" width="12.6" height="7.6"></rect> <rect x="3.8" y="14.6" fill="#FFFFFF" width="12.6" height="7.6"></rect> <rect x="3.8" y="24.9" fill="#FFFFFF" width="12.6" height="7.6"></rect> <rect x="3.8" y="35.1" fill="#FCD116" width="12.6" height="7.6"></rect> <rect x="18.8" y="35.1" fill="#FCD116" width="12.6" height="7.6"></rect> <rect x="33.8" y="35.1" fill="#FCD116" width="12.6" height="7.6"></rect> <path opacity="0.2" fill="#FFFFFF" enable-background="new    " d="M1.9,3.7C1,3.7,0,4.6,0,5.6V13v3.3v28.1c0,1,1,1.9,1.9,1.9H4 	L43.6,3.7H1.9z"></path> </symbol> </defs></svg><svg><use xlink:href="#storage"></use></svg></span> </div> </div> </li> <li> <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" title="Web + Mobile">Web + Mobile</a> <ul class="menu-pop" id="WebMobile-category"> <li class="title">Web + Mobile</li> <li data-product-slug="app-service"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/app-service/" title="App Service" class="label">App Service</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/app-service/" title="App Service" class="sub">Create web and mobile apps for any platform and any device</a> </li> <li class="indent" data-product-slug="app-service\web"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/app-service/web/" title="Web Apps" class="label">Web Apps</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/app-service/web/" title="Web Apps" class="sub">Quickly create and deploy mission critical Web apps at scale</a> </li> <li class="indent" data-product-slug="app-service\mobile"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/app-service/mobile/" title="Mobile Apps" class="label">Mobile Apps</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/app-service/mobile/" title="Mobile Apps" class="sub">Build and host the backend for any mobile app</a> </li> <li class="indent" data-product-slug="logic-apps"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/logic-apps/" title="Logic Apps" class="label">Logic Apps</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/logic-apps/" title="Logic Apps" class="sub">Automate the access and use of data across clouds without writing code</a> </li> <li class="indent" data-product-slug="app-service\api"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/app-service/api/" title="API Apps" class="label">API Apps</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/app-service/api/" title="API Apps" class="sub">Easily build and consume Cloud APIs</a> </li> <li data-product-slug="cdn"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/cdn/" title="CDN" class="label">CDN</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/cdn/" title="CDN" class="sub">Deliver content to end-users through a robust network of global data centers</a> </li> <li data-product-slug="media-services"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/media-services/" title="Media Services" class="label">Media Services</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/media-services/" title="Media Services" class="sub">Encode, store, and stream video and audio at scale</a> </li> <li data-product-slug="search"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/search/" title="Search" class="label">Search</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/search/" title="Search" class="sub">Fully-managed search-as-a-service</a> </li> <li class="link-bottom"> <a class="label" href="https://azure.microsoft.com/en-us/services/?filter=web-mobile">See all web + mobile</a> </li> </ul> <div class="free-trial"> <div> <p>Get credits that enable:</p> <p>Deploy 20 websites</p> <p>over 10M mobile API calls</p> <p>And much more...</p> <a href="https://azure.microsoft.com/en-us/free/" title="Learn more" class="wa-arrowLink wa-arrowLink-light" data-event="global-clicked-menumessage" data-event-property="Products (Web &amp; Mobile)">Learn more</a> <span class="icon icon-size17"><svg style="display:none; visibility:hidden;"><defs><symbol id="app-service" viewBox="0 0 50 50"> <path fill="#A0A1A2" d="M20.1,46.5H3.5V30h3.4c-0.4-1-0.6-2.1-0.6-3.3c0,0,0-0.1,0-0.2H0V50h23.6V36h-3.5V46.5z"></path> <path fill="#A0A1A2" d="M43.5,30h3v16.6H29.9V36.1h-3.5V50H50V26.5h-7.4c0.5,1,0.9,2,0.9,3.3C43.5,29.8,43.5,29.9,43.5,30z"></path> <path fill="#A0A1A2" d="M3.5,20V3.5h16.6v9.6c1-0.8,2.3-1.3,3.5-1.6V0H0v23.5h6.8C7.3,22.3,8,21,9,20.1L3.5,20L3.5,20z"></path> <path fill="#A0A1A2" d="M29.9,11.1V3.5h16.6v16.6h-7.3c0.3,1,0.5,2.2,0.5,3.4c0,0,0,0.1,0,0.1H50V0H26.4v10.9c0.3,0,0.5-0.1,0.8-0.1 C28.1,10.9,29,10.9,29.9,11.1z"></path> <path fill="#59B4D9" d="M40.8,29.7c0-2.1-1.7-3.7-3.7-3.7c-0.2,0-0.3,0-0.5,0c0.2-0.8,0.4-1.7,0.4-2.6c0-5.5-4.4-9.9-9.9-9.9 c-4.3,0-8,2.8-9.3,6.8c-0.7-0.2-1.4-0.4-2.2-0.4c-3.7,0-6.7,3-6.7,6.8c0,3.8,3,6.8,6.7,6.8c0,0,0,0,0,0v0h21.8l0,0 C39.3,33.3,40.8,31.7,40.8,29.7"></path> <path opacity="0.2" fill="#FFFFFF" d="M19.2,33.5c-0.9-0.9-1.5-2-1.8-3.3c-0.8-3.7,1.4-7.3,5.1-8.1c0.8-0.2,1.5-0.2,2.2-0.1 c0.3-3.4,2.4-6.5,5.5-8c-0.9-0.3-1.9-0.5-3-0.5c-4.3,0-8,2.8-9.3,6.8c-0.7-0.2-1.4-0.4-2.2-0.4c-3.7,0-6.7,3-6.7,6.8 c0,3.8,3,6.8,6.7,6.8c0,0,0,0,0,0v0H19.2z"></path> </symbol> </defs></svg><svg><use xlink:href="#app-service"></use></svg></span> </div> </div> </li> <li> <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" title="Databases">Databases</a> <ul class="menu-pop" id="Databases-category"> <li class="title">Databases</li> <li data-product-slug="sql-database"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/sql-database/" title="SQL Database" class="label">SQL Database</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/sql-database/" title="SQL Database" class="sub">Managed relational SQL Database-as-a-service</a> </li> <li data-product-slug="sql-data-warehouse"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/sql-data-warehouse/" title="SQL Data Warehouse" class="label">SQL Data Warehouse</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/sql-data-warehouse/" title="SQL Data Warehouse" class="sub">Elastic data warehouse-as-a-service with enterprise-class features</a> </li> <li data-product-slug="sql-server-stretch-database"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/sql-server-stretch-database/" title="SQL Server Stretch Database" class="label">SQL Server Stretch Database</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/sql-server-stretch-database/" title="SQL Server Stretch Database" class="sub">Dynamically stretch on-premises SQL Server databases to Azure</a> </li> <li data-product-slug="documentdb"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/documentdb/" title="DocumentDB" class="label">DocumentDB</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/documentdb/" title="DocumentDB" class="sub">Managed NoSQL document database-as-a-service</a> </li> <li data-product-slug="storage\tables"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/storage/tables/" title="Table Storage" class="label">Table Storage</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/storage/tables/" title="Table Storage" class="sub">NoSQL key-value store using semi-structured datasets</a> </li> <li data-product-slug="redis-cache"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/cache/" title="Redis Cache" class="label">Redis Cache</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/cache/" title="Redis Cache" class="sub">High throughput, low latency data access to build fast and scalable applications</a> </li> <li data-product-slug="data-factory"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/data-factory/" title="Data Factory" class="label">Data Factory</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/data-factory/" title="Data Factory" class="sub">Orchestrate and manage data transformation and movement</a> </li> </ul> <div class="free-trial"> <div> <p>Get credits that enable:</p> <p>8 standard SQL Databases</p> <p>Hadoop instance for a week</p> <p>And much more...</p> <a href="https://azure.microsoft.com/en-us/free/" title="Learn more" class="wa-arrowLink wa-arrowLink-light" data-event="global-clicked-menumessage" data-event-property="Products (Data &amp; Storage)">Learn more</a> <span class="icon icon-size17"><svg><use xlink:href="#storage"></use></svg></span> </div> </div> </li> <li> <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" title="Intelligence + Analytics">Intelligence + Analytics</a> <ul class="menu-pop" id="IntelligenceAnalytics-category"> <li class="title">Intelligence + Analytics</li> <li data-product-slug="hdinsight"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/hdinsight/" title="HDInsight" class="label">HDInsight</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/hdinsight/" title="HDInsight" class="sub">Provision cloud Hadoop, Spark, R Server, HBase, and Storm clusters</a> </li> <li data-product-slug="machine-learning"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/machine-learning/" title="Machine Learning" class="label">Machine Learning</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/machine-learning/" title="Machine Learning" class="sub">Powerful cloud based predictive analytics tool to enable predictive maintenance</a> </li> <li data-product-slug="stream-analytics"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/stream-analytics/" title="Stream Analytics" class="label">Stream Analytics</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/stream-analytics/" title="Stream Analytics" class="sub">Real-time data stream processing from millions of IoT devices</a> </li> <li data-product-slug="cognitive-services"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/cognitive-services/" title="Cognitive Services" class="label">Cognitive Services</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/cognitive-services/" title="Cognitive Services" class="sub">Add smart API capabilities to enable contextual interactions</a> </li> <li data-product-slug="bot-service"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/bot-service/" title="Azure Bot Service" class="label">Azure Bot Service</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/bot-service/" title="Azure Bot Service" class="sub">Intelligent, serverless bot service that scales on demand</a> </li> <li data-product-slug="data-lake-analytics"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/data-lake-analytics/" title="Data Lake Analytics" class="label">Data Lake Analytics</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/data-lake-analytics/" title="Data Lake Analytics" class="sub">Distributed analytics service that makes big data easy</a> </li> <li data-product-slug="data-lake-store"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/data-lake-store/" title="Data Lake Store" class="label">Data Lake Store</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/data-lake-store/" title="Data Lake Store" class="sub">Hyperscale repository for big data analytics workloads</a> </li> <li data-product-slug="power-bi-embedded"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/power-bi-embedded/" title="Power BI Embedded" class="label">Power BI Embedded</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/power-bi-embedded/" title="Power BI Embedded" class="sub">Embed fully interactive, stunning data visualizations in your applications</a> </li> <li class="link-bottom"> <a class="label" href="https://azure.microsoft.com/en-us/services/?filter=intelligence-analytics">See all intelligence + analytics</a> </li> </ul> <div class="free-trial"> <div> <p>Cortana Intelligence</p> <p>Learn how to transform your business with big data and advanced analytics</p> <a href="https://azure.microsoft.com/en-us/suites/cortana-intelligence-suite/" title="Learn more" class="wa-arrowLink wa-arrowLink-light" data-event="global-clicked-menumessage" data-event-property="Products (Intelligence + Analytics)">Learn more</a> <span class="icon icon-size17"><svg><use xlink:href="#storage"></use></svg></span> </div> </div> </li> <li> <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" title="Internet of Things">Internet of Things</a> <ul class="menu-pop" id="InternetOfThings-category"> <li class="title">Internet of Things</li> <li data-product-slug="iot-hub"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/iot-hub/" title="Azure IoT Hub" class="label">Azure IoT Hub</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/iot-hub/" title="Azure IoT Hub" class="sub">Connect, monitor, and control billions of IoT assets</a> </li> <li data-product-slug="event-hubs"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/event-hubs/" title="Event Hubs" class="label">Event Hubs</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/event-hubs/" title="Event Hubs" class="sub">Receive telemetry from millions of devices</a> </li> <li data-product-slug="stream-analytics"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/stream-analytics/" title="Stream Analytics" class="label">Stream Analytics</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/stream-analytics/" title="Stream Analytics" class="sub">Real-time data stream processing from millions of IoT devices</a> </li> <li data-product-slug="machine-learning"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/machine-learning/" title="Machine Learning" class="label">Machine Learning</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/machine-learning/" title="Machine Learning" class="sub">Powerful cloud based predictive analytics tool to enable predictive maintenance</a> </li> <li data-product-slug="notification-hubs"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/notification-hubs/" title="Notification Hubs" class="label">Notification Hubs</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/notification-hubs/" title="Notification Hubs" class="sub">A scalable, push notification engine for quickly sending millions of messages</a> </li> </ul> <div class="free-trial"> <div> <p>Azure IoT Suite</p> <p>Capture and analyze untapped data to improve business results</p> <a href="https://azure.microsoft.com/en-us/suites/iot-suite/" title="Learn more" class="wa-arrowLink wa-arrowLink-light" data-event="global-clicked-menumessage" data-event-property="Products (IoT)">Learn more</a> <span class="icon icon-size17"><svg style="display:none; visibility:hidden;"><defs><symbol id="machine-learning" viewBox="0 0 50 50"> <path fill="#59B4D9" d="M48.288,44.623L32.72,17.659V6.743h0.281c1.862,0,3.372-1.51,3.372-3.372S34.863,0,33.001,0H16.016 c-1.862,0-3.372,1.51-3.372,3.372s1.51,3.372,3.372,3.372h0.281v10.915L0.729,44.623C-0.979,47.58,0.418,50,3.833,50h41.351 C48.598,50,49.995,47.58,48.288,44.623z"></path> <polygon fill="#B8D432" points="13.551,33.017 7.127,44.143 41.889,44.143 35.466,33.017 "></polygon> <path fill="#7FBA00" d="M25.334,37.532c1.735,0,3.141-1.406,3.141-3.141c0-0.493-0.117-0.958-0.32-1.374h-5.643 c-0.203,0.415-0.32,0.88-0.32,1.374C22.193,36.126,23.599,37.532,25.334,37.532z"></path> <circle fill="#7FBA00" cx="29.232" cy="39.956" r="1.541"></circle> <path opacity="0.25" fill="#FFFFFF" d="M0.729,44.623l15.568-26.965V6.743h-0.281c-1.862,0-3.372-1.51-3.372-3.372 S14.153,0,16.016,0l7.319,0v17.572L15.13,50H3.833C0.418,50-0.979,47.58,0.729,44.623z"></path> </symbol> </defs></svg><svg><use xlink:href="#machine-learning"></use></svg></span> </div> </div> </li> <li> <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" title="Enterprise Integration">Enterprise Integration</a> <ul class="menu-pop" id="EnterpriseIntegration-category"> <li class="title">Enterprise Integration</li> <li data-product-slug="logic-apps"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/logic-apps/" title="Logic Apps" class="label">Logic Apps</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/logic-apps/" title="Logic Apps" class="sub">Automate the access and use of data across clouds without writing code</a> </li> <li data-product-slug="biztalk-services"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/biztalk-services/" title="BizTalk Services" class="label">BizTalk Services</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/biztalk-services/" title="BizTalk Services" class="sub">Seamlessly integrate the enterprise and the cloud</a> </li> <li data-product-slug="service-bus"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/service-bus/" title="Service Bus" class="label">Service Bus</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/service-bus/" title="Service Bus" class="sub">Connect across private and public cloud environments</a> </li> <li data-product-slug="api-management"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/api-management/" title="API Management" class="label">API Management</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/api-management/" title="API Management" class="sub">Publish APIs to developers, partners and employees securely and at scale</a> </li> <li data-product-slug="storsimple"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/storsimple/" title="StorSimple" class="label">StorSimple</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/storsimple/" title="StorSimple" class="sub">Hybrid cloud storage for enterprises, reduces costs and improves data security</a> </li> <li data-product-slug="sql-server-stretch-database"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/sql-server-stretch-database/" title="SQL Server Stretch Database" class="label">SQL Server Stretch Database</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/sql-server-stretch-database/" title="SQL Server Stretch Database" class="sub">Dynamically stretch on-premises SQL Server databases to Azure</a> </li> <li data-product-slug="data-factory"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/data-factory/" title="Data Factory" class="label">Data Factory</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/data-factory/" title="Data Factory" class="sub">Orchestrate and manage data transformation and movement</a> </li> </ul> <div class="free-trial"> <div> <p>Get credits that enable:</p> <p>Send 200 million messages</p> <p>And much more...</p> <a href="https://azure.microsoft.com/en-us/free/" title="Learn more" class="wa-arrowLink wa-arrowLink-light" data-event="global-clicked-menumessage" data-event-property="Products (Enterprise Integration)">Learn more</a> <span class="icon icon-size17"><svg style="display:none; visibility:hidden;"><defs><symbol id="app-service-logic" viewBox="0 0 50 38.8"> <path d="M26,21.3v-5H23.5v5c0,.9-.8,1.7-2.1,2.1l-3.4.7c-2.3.7-3.9,2.5-3.9,4.5v5.7h2.5V28.6c0-.9.8-1.7,2.1-2.1l3.4-.8A4.833,4.833,0,0,0,26,21.3Z" transform="translate(0 -5.6)" fill="#59b4d9"></path> <path d="M19.6,36.9V32.3a2.006,2.006,0,0,0-2-2H13a2.006,2.006,0,0,0-2,2v4.6a2.006,2.006,0,0,0,2,2h4.6A2.006,2.006,0,0,0,19.6,36.9Z" transform="translate(0 -5.6)" fill="#7fba00"></path> <path d="M23.2,21.3v-5h2.5v5c0,.9.8,1.7,2.1,2.1l4.2.9c2.3.7,3.9,2.5,3.9,4.5v5.7H33.4V28.8c0-.9-.8-1.7-2.1-2.1l-4.2-.9C24.8,25.1,23.2,23.3,23.2,21.3Z" transform="translate(0 -5.6)" fill="#59b4d9"></path> <path d="M30.4,37.1V32.5a2.006,2.006,0,0,1,2-2H37a2.006,2.006,0,0,1,2,2v4.6a2.006,2.006,0,0,1-2,2H32.4A2.006,2.006,0,0,1,30.4,37.1Z" transform="translate(0 -5.6)" fill="#7fba00"></path> <rect x="23.2" y="10.7" width="2.8" height="4.8" fill="#59b4d9"></rect> <path d="M26.5,11.7v3.7H22.8V11.7h3.7m.8-2.8H22a2.006,2.006,0,0,0-2,2v5.3a2.006,2.006,0,0,0,2,2h5.3a2.006,2.006,0,0,0,2-2V10.9a2.006,2.006,0,0,0-2-2Z" transform="translate(0 -5.6)" fill="#0072c6"></path> <path d="M7.9,44.4a7.41,7.41,0,0,1-4.5-1.1c-.9-.8-1.3-2.1-1.3-4V28.9c0-1.7-.7-2.6-2.1-2.6V23.7q2.1,0,2.1-2.7V10.8c0-1.9.4-3.3,1.3-4.1S5.8,5.6,7.9,5.6V8.2c-1.5,0-2.3.8-2.3,2.5v10c0,2.3-.7,3.7-2.2,4.3h0c1.4.6,2.2,2,2.2,4.3v9.9a3.439,3.439,0,0,0,.5,2,2.2,2.2,0,0,0,1.7.6l.1,2.6Z" transform="translate(0 -5.6)" fill="#59b4d9"></path> <path d="M42.1,5.6a7.41,7.41,0,0,1,4.5,1.1c.9.8,1.3,2.1,1.3,4V21.1c0,1.7.7,2.6,2.1,2.6v2.6q-2.1,0-2.1,2.7V39.1c0,1.9-.4,3.3-1.3,4.1s-2.4,1.2-4.5,1.2V41.8c1.5,0,2.3-.8,2.3-2.5v-10c0-2.3.7-3.7,2.2-4.3h0c-1.4-.6-2.2-2-2.2-4.3V10.8a3.439,3.439,0,0,0-.5-2,2.2,2.2,0,0,0-1.7-.6l-.1-2.6Z" transform="translate(0 -5.6)" fill="#59b4d9"></path> </symbol></defs></svg><svg><use xlink:href="#app-service-logic"></use></svg></span> </div> </div> </li> <li> <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" title="Security + Identity">Security + Identity</a> <ul class="menu-pop" id="SecurityIdentity-category"> <li class="title">Security + Identity</li> <li data-product-slug="security-center"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/security-center/" title="Security Center" class="label">Security Center</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/security-center/" title="Security Center" class="sub">Prevent, detect, and respond to threats with increased visibility</a> </li> <li data-product-slug="microsoft-identity"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/develop/identity/" title="Identity for developers" class="label">Identity for developers</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/develop/identity/" title="Identity for developers" class="sub">Enable one-click sign in for hundreds of millions of users</a> </li> <li data-product-slug="key-vault"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/key-vault/" title="Key Vault" class="label">Key Vault</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/key-vault/" title="Key Vault" class="sub">Safeguard and maintain control of keys and other secrets</a> </li> <li data-product-slug="active-directory"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/active-directory/" title="Azure Active Directory" class="label">Azure Active Directory</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/active-directory/" title="Azure Active Directory" class="sub">Synchronize on-premises directories and enable single sign-on</a> </li> <li data-product-slug="active-directory-b2c"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/active-directory-b2c/" title="Azure Active Directory B2C" class="label">Azure Active Directory B2C</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/active-directory-b2c/" title="Azure Active Directory B2C" class="sub">Consumer identity and access management in the cloud</a> </li> <li data-product-slug="active-directory-ds"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/active-directory-ds/" title="Azure Active Directory Domain Services" class="label">Azure Active Directory Domain Services</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/active-directory-ds/" title="Azure Active Directory Domain Services" class="sub">Join Azure virtual machines to a domain without domain controllers</a> </li> <li data-product-slug="multi-factor-authentication"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/multi-factor-authentication/" title="Multi-Factor Authentication" class="label">Multi-Factor Authentication</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/multi-factor-authentication/" title="Multi-Factor Authentication" class="sub">Safeguard access to your data and apps with an extra level of authentication</a> </li> </ul> <div class="free-trial"> <div> <p>Get credits that enable:</p> <p>Store 500,000 objects in Active Directory</p> <p>Multi-factor auth with 100 users</p> <p>And much more...</p> <a href="https://azure.microsoft.com/en-us/free/" title="Learn more" class="wa-arrowLink wa-arrowLink-light" data-event="global-clicked-menumessage" data-event-property="Products (Identity &amp; Access Management)">Learn more</a> <span class="icon icon-size17"><svg style="display:none; visibility:hidden;"><defs><symbol id="active-directory" viewBox="0 0 50 50"> <path fill="#59B4D9" d="M25.001,50.001c-1.232,0-2.392-0.48-3.261-1.352L1.351,28.261C0.492,27.402,0,26.215,0,25 c0-1.214,0.492-2.402,1.351-3.26L21.74,1.352C22.611,0.48,23.769,0,25.001,0c1.231,0,2.39,0.48,3.261,1.352L48.648,21.74 C49.521,22.608,50,23.767,50,25c0,1.233-0.479,2.392-1.353,3.263L28.262,48.649C27.392,49.521,26.232,50.001,25.001,50.001"></path> <path fill="#FFFFFF" d="M38.614,21.093c-2.16,0-3.91,1.75-3.91,3.909c0,0.792,0.239,1.527,0.645,2.143l-7.744,7.744 c-0.206-0.144-0.427-0.264-0.656-0.373V14.759c1.167-0.676,1.961-1.924,1.961-3.37C28.91,9.23,27.16,7.48,25,7.48 c-2.158,0-3.908,1.75-3.908,3.909c0,1.446,0.794,2.694,1.96,3.37v19.756c-0.219,0.104-0.434,0.216-0.632,0.353l-7.753-7.753 c0.394-0.61,0.628-1.333,0.628-2.113c0-2.159-1.75-3.909-3.908-3.909c-2.16,0-3.91,1.75-3.91,3.909s1.75,3.909,3.91,3.909 c0.448,0,0.872-0.091,1.274-0.23l8.15,8.15c-0.234,0.548-0.364,1.15-0.364,1.783c0,2.513,2.038,4.551,4.551,4.551 c2.514,0,4.551-2.038,4.551-4.551c0-0.621-0.126-1.212-0.351-1.751l8.173-8.172c0.392,0.132,0.804,0.22,1.241,0.22 c2.158,0,3.908-1.75,3.908-3.909S40.771,21.093,38.614,21.093z"></path> <rect x="31.006" y="8.226" transform="matrix(-0.707 0.7072 -0.7072 -0.707 68.2099 8.8718)" opacity="0.5" fill="#FFFFFF" width="2.523" height="20.676"></rect> <rect x="16.487" y="8.242" transform="matrix(0.7071 0.7071 -0.7071 0.7071 18.3355 -7.1088)" opacity="0.5" fill="#FFFFFF" width="2.524" height="20.677"></rect> <path fill="#B8D432" d="M27.665,38.614c0,1.496-1.214,2.709-2.71,2.709c-1.497,0-2.709-1.213-2.709-2.709 c0-1.496,1.212-2.709,2.709-2.709C26.45,35.905,27.665,37.118,27.665,38.614"></path> <path fill="#B8D432" d="M27.174,11.389c0,1.201-0.973,2.174-2.174,2.174c-1.201,0-2.174-0.973-2.174-2.174 c0-1.201,0.973-2.174,2.174-2.174C26.201,9.215,27.174,10.188,27.174,11.389"></path> <path fill="#B8D432" d="M13.563,25.001c0,1.201-0.975,2.174-2.174,2.174c-1.201,0-2.174-0.973-2.174-2.174 c0-1.201,0.973-2.174,2.174-2.174C12.588,22.827,13.563,23.8,13.563,25.001"></path> <path fill="#B8D432" d="M40.788,25.001c0,1.201-0.975,2.174-2.175,2.174c-1.2,0-2.174-0.973-2.174-2.174 c0-1.201,0.974-2.174,2.174-2.174C39.813,22.827,40.788,23.8,40.788,25.001"></path> <path opacity="0.1" fill="#FFFFFF" d="M28.262,1.352C27.391,0.48,26.233,0,25.001,0c-1.231,0-2.389,0.48-3.26,1.352L1.352,21.74 C0.492,22.598,0,23.786,0,25c0,1.215,0.492,2.403,1.352,3.261l11.543,11.544L34.61,7.699L28.262,1.352z"></path> </symbol> </defs></svg><svg><use xlink:href="#active-directory"></use></svg></span> </div> </div> </li> <li> <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" title="Developer Tools">Developer Tools</a> <ul class="menu-pop" id="DeveloperTools-category"> <li class="title">Developer Tools</li> <li data-product-slug="visual-studio-team-services"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/visual-studio-team-services/" title="Visual Studio Team Services" class="label">Visual Studio Team Services</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/visual-studio-team-services/" title="Visual Studio Team Services" class="sub">Services for teams to share code, track work, and ship software</a> </li> <li data-product-slug="devtest-lab"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/devtest-lab/" title="Azure DevTest Labs" class="label">Azure DevTest Labs</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/devtest-lab/" title="Azure DevTest Labs" class="sub">Quickly create environments using reusable templates and artifacts</a> </li> <li data-product-slug="application-insights"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/application-insights/" title="Application Insights" class="label">Application Insights</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/application-insights/" title="Application Insights" class="sub">Detect, triage, and diagnose issues in your web apps and services</a> </li> <li data-product-slug="api-management"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/api-management/" title="API Management" class="label">API Management</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/api-management/" title="API Management" class="sub">Publish APIs to developers, partners and employees securely and at scale</a> </li> <li data-product-slug="hockeyapp"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/hockeyapp/" title="HockeyApp" class="label">HockeyApp</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/hockeyapp/" title="HockeyApp" class="sub">Deploy mobile apps, collect feedback and crash reports, and monitor usage</a> </li> <li data-product-slug="tools"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/tools/" title="Developer Tools and SDKs" class="label">Developer Tools and SDKs</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/tools/" title="Developer Tools and SDKs" class="sub">Build, deploy, diagnose, and manage multi-platform, scalable apps and services</a> </li> <li data-product-slug="xamarin"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/features/xamarin/" title="Xamarin" class="label">Xamarin</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/features/xamarin/" title="Xamarin" class="sub">Create cloud-powered mobile apps faster</a> </li> <li data-product-slug="storage-explorer"> <a data-event="global-clicked-mainmenu" href="http://storageexplorer.com/" title="Storage Explorer" class="label">Storage Explorer</a> <a data-event="global-clicked-mainmenu" href="http://storageexplorer.com/" title="Storage Explorer" class="sub">View and interact with Azure Storage resources</a> </li> </ul> <div class="free-trial"> <div> <p>Each free account includes:</p> <p>Five free users</p> <p>Unlimited private code repos</p> <p>And more!</p> <a href="https://azure.microsoft.com/en-us/free/" title="Learn more" class="wa-arrowLink wa-arrowLink-light" data-event="global-clicked-menumessage" data-event-property="Products (Developer Tools)">Learn more</a> <span class="icon icon-size17"><svg style="display:none; visibility:hidden;"><defs><symbol id="visual-studio-team-services" viewBox="0 0 21 21"> <path fill="#7A4D87" d="M9.7,10L15,5.9v8.2L9.7,10z M2,13V7l3,3L2,13z M15,0L7.1,7.9L2,4L0,5v10l2,1l5.1-3.9L15,20l5-2V2L15,0z"></path> </symbol> </defs></svg><svg><use xlink:href="#visual-studio-team-services"></use></svg></span> </div> </div> </li> <li> <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" title="Monitoring + Management">Monitoring + Management</a> <ul class="menu-pop" id="MonitoringManagement-category"> <li class="title">Monitoring + Management</li> <li data-product-slug="azure-portal"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/features/azure-portal/" title="Microsoft Azure portal" class="label">Microsoft Azure portal</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/features/azure-portal/" title="Microsoft Azure portal" class="sub">Build, manage, and monitor all Azure products in a single, unified console</a> </li> <li data-product-slug="azure-resource-manager"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/features/resource-manager/" title="Azure Resource Manager" class="label">Azure Resource Manager</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/features/resource-manager/" title="Azure Resource Manager" class="sub">Simplify how you manage your app resources</a> </li> <li data-product-slug="application-insights"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/application-insights/" title="Application Insights" class="label">Application Insights</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/application-insights/" title="Application Insights" class="sub">Detect, triage, and diagnose issues in your web apps and services</a> </li> <li data-product-slug="log-analytics"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/log-analytics/" title="Log Analytics" class="label">Log Analytics</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/log-analytics/" title="Log Analytics" class="sub">Collect, search and visualize machine data from on-premises and cloud</a> </li> <li data-product-slug="automation"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/automation/" title="Automation" class="label">Automation</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/automation/" title="Automation" class="sub">Simplify cloud management with process automation</a> </li> <li data-product-slug="backup"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/backup/" title="Backup" class="label">Backup</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/backup/" title="Backup" class="sub">Simple and reliable server backup to the cloud</a> </li> <li data-product-slug="site-recovery"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/site-recovery/" title="Site Recovery" class="label">Site Recovery</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/site-recovery/" title="Site Recovery" class="sub">Orchestrate protection and recovery of private clouds</a> </li> <li data-product-slug="scheduler"> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/scheduler/" title="Scheduler" class="label">Scheduler</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/services/scheduler/" title="Scheduler" class="sub">Run your jobs on simple or complex recurring schedules</a> </li> <li class="link-bottom"> <a class="label" href="https://azure.microsoft.com/en-us/services/?filter=monitoring-management">See all monitoring + management</a> </li> </ul> <div class="free-trial"> <div> <p>Operations Management Suite</p> <p>Manage and protect your cloud and on-premises infrastructure</p> <a href="https://azure.microsoft.com/en-us/suites/operations-management-suite/" title="Learn more" class="wa-arrowLink wa-arrowLink-light" data-event="global-clicked-menumessage" data-event-property="Products (Monitoring + Management)">Learn more</a> <span class="icon icon-size17"><svg style="display:none; visibility:hidden;"><defs><symbol id="automation" viewBox="0 0 50 50"> <path fill="#A0A1A2" d="M46.281,23.344c0-0.375-0.031-0.734-0.063-1.109L50,20.141c-0.203-1.25-0.531-2.469-0.969-3.625 l-4.313,0.078c-0.328-0.672-0.688-1.328-1.094-1.938l2.219-3.703c-0.797-0.969-1.688-1.859-2.641-2.641l-2.188,1.297l-0.922,1.375 l-1.984,2.922c2.813,2.188,4.625,5.594,4.625,9.438c0,6.594-5.328,11.938-11.922,11.938c-6.578,0-11.922-5.344-11.922-11.938 c0-5.906,4.281-10.781,9.906-11.75l0.906-3.672l-2.094-3.781C26.359,4.344,25.156,4.672,24,5.109l0.063,4.328 c-0.656,0.313-1.313,0.672-1.922,1.094l-3.703-2.219c-0.969,0.781-1.844,1.672-2.641,2.641l2.219,3.703 c-0.422,0.609-0.766,1.266-1.094,1.938l-4.328-0.078c-0.422,1.156-0.75,2.375-0.953,3.625l3.766,2.094 c-0.031,0.375-0.047,0.734-0.047,1.109s0.016,0.734,0.047,1.109l-3.766,2.094c0.203,1.25,0.531,2.469,0.969,3.625l4.313-0.078 c0.328,0.672,0.672,1.328,1.094,1.938l-2.219,3.703c0.797,0.969,1.672,1.859,2.641,2.656l3.703-2.234 c0.609,0.422,1.266,0.781,1.922,1.109L24,41.578c1.156,0.438,2.359,0.766,3.609,0.969l2.109-3.781 c0.359,0.031,0.719,0.063,1.094,0.063s0.75-0.031,1.109-0.063l2.094,3.781c1.25-0.203,2.469-0.531,3.625-0.969l-0.078-4.313 c0.672-0.328,1.313-0.688,1.938-1.109l3.703,2.234c0.953-0.797,1.844-1.688,2.641-2.656l-2.219-3.703 c0.406-0.609,0.766-1.266,1.094-1.938l4.313,0.078c0.438-1.156,0.766-2.375,0.969-3.625l-3.781-2.094 C46.25,24.078,46.281,23.719,46.281,23.344z"></path> <path fill="#7A7A7A" d="M16,39.719v-1.859l-0.102-0.094l-1.902-0.641l-0.49-1.281l0.942-1.953l0.104-0.219l-0.589-0.594 l-0.716-0.719l-0.249,0.125l-1.859,0.953l-1.281-0.359L9.047,31H7.203l-0.094,0.094l-0.641,1.898L5.172,33.48l-2.156-1.037 l-1.313,1.302l0.125,0.245l0.953,1.857l-0.531,1.28L0,37.938v1.859l0.266,0.078l1.984,0.656l0.531,1.281l-1.016,2.156l1.313,1.328 l0.25-0.125l1.859-0.953l1.281,0.531L7.281,47h1.859l0.078-0.266l0.656-1.984l1.266-0.531l2.172,1.016l1.313-1.313l-0.125-0.25 l-0.953-1.859l0.367-1.297L16,39.719z M8.172,41.438c-1.438,0-2.609-1.172-2.609-2.609s1.172-2.609,2.609-2.609 s2.594,1.172,2.594,2.609S9.609,41.438,8.172,41.438z"></path> <path fill="#FCD116" d="M33.297,1.688l-0.719,2.266l-1.234,3.938L30.75,9.781l-0.516,1.656l-3.594,11.422 c-0.078,0.219,0.031,0.391,0.281,0.391h3.313c0.109,0,0.188,0.031,0.234,0.094c0.078,0.078,0.094,0.188,0.047,0.313l-3.422,8.297 c-0.094,0.219-0.031,0.266,0.125,0.078L38.047,19.75c0.156-0.188,0.094-0.328-0.141-0.328l-3.547,0.016l-0.656,0.016 c-0.234,0-0.344-0.172-0.219-0.375l3.375-6.016l0.797-1.438l0.922-1.656l1.969-3.484l1.125-2.031 C39.156,3,36.328,2.031,33.297,1.688z"></path> <path opacity="0.3" fill="#FF8C00" d="M39.505,3.367l-7.844,16.07h1.953c-0.174-0.037-0.249-0.183-0.14-0.359l3.375-6.016 l0.797-1.438l0.922-1.656l1.969-3.484l1.125-2.031C40.966,4.052,40.245,3.692,39.505,3.367z"></path> <path opacity="0.3" fill="#FF8C00" d="M37.92,19.422l-2.189,0.01l-8.093,12.14L38.061,19.75 C38.217,19.563,38.155,19.422,37.92,19.422z"></path> </symbol> </defs></svg><svg><use xlink:href="#automation"></use></svg></span> </div> </div> </li> <li> <a href="https://azure.microsoft.com/en-us/overview/azure-stack/">Microsoft Azure Stack</a> </li> <li class="link-bottom"> <a href="https://azure.microsoft.com/en-us/services/" data-event="global-clicked-productmenuseealllink">See all products</a> </li> </ul> </div> </li> <li id="main-nav-documentation"><a data-event="global-clicked-topnav" href="https://docs.microsoft.com/azure" title="Documentation">Documentation</a></li> <li><a data-event="global-clicked-topnav" href="https://azure.microsoft.com/en-us/pricing/" title="Pricing">Pricing</a></li> <li><a data-event="global-clicked-topnav" href="https://azure.microsoft.com/en-us/partners/" title="Partners">Partners</a></li> <li><a data-event="global-clicked-topnav" href="https://azure.microsoft.com/en-us/blog/" title="Blog">Blog</a></li> <li> <a data-event="global-clicked-topnav" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" title="Resources">Resources</a> <div> <ul class="menu-drop menu-drop-resources"> <li> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/downloads/" title="Downloads" class="label">Downloads</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/downloads/" title="Downloads" class="sub">Get the SDKs and command-line tools you need</a> </li> <li> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/resources/samples/" title="Samples" class="label">Samples</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/resources/samples/" title="Samples" class="sub">Learn how to interact with Azure services through code</a> </li> <li> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/resources/" title="Whitepapers and Analysts Reports" class="label">Whitepapers and Analysts Reports</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/resources/" title="Whitepapers and Analysts Reports" class="sub">View popular whitepapers, analyst reports and sign up for the newsletter</a> </li> <li> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/community/events/" title="Events" class="label">Events</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/community/events/" title="Events" class="sub">Find an in-person event or webinar</a> </li> <li> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/community/training/" title="Training" class="label">Training</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/community/training/" title="Training" class="sub">Discover training and certification programs</a> </li> <li> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/resources/templates/" title="Templates" class="label">Templates</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/resources/templates/" title="Templates" class="sub">Deploy Azure resources through the Azure Resource Manager with community contributed templates</a> </li> <li> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/updates/" title="Service Updates" class="label">Service Updates</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/updates/" title="Service Updates" class="sub">Learn about updates to Azure products</a> </li> </ul> <div class="free-trial free-trial-why-azure"> <div> <span class="icon icon-size13"><svg><use xlink:href="#azure"></use></svg></span> <p>Sign up for free and get <span class="price-data " data-amount="{&quot;currencies&quot;:{&quot;USD&quot;:200.0,&quot;ARS&quot;:2800.0,&quot;AUD&quot;:260.0,&quot;BRL&quot;:750.0,&quot;CAD&quot;:250.0,&quot;CHF&quot;:190.0,&quot;DKK&quot;:1300.0,&quot;EUR&quot;:170.0,&quot;GBP&quot;:125.0,&quot;HKD&quot;:1600.0,&quot;IDR&quot;:2940000.0,&quot;INR&quot;:12100.0,&quot;JPY&quot;:20500.0,&quot;KRW&quot;:240000.0,&quot;MXN&quot;:3600.0,&quot;MYR&quot;:900.0,&quot;NOK&quot;:1650.0,&quot;NZD&quot;:300.0,&quot;RUB&quot;:12500.0,&quot;SAR&quot;:750.0,&quot;SEK&quot;:1600.0,&quot;TRY&quot;:610.0,&quot;TWD&quot;:6300.0,&quot;ZAR&quot;:3450.0}}" data-decimals="0">$200</span> to spend on all Azure services</p> <a href="https://azure.microsoft.com/en-us/free/" title="Learn more" class="wa-arrowLink wa-arrowLink-light" data-event="global-clicked-menumessage" data-event-property="Resources">Learn more</a> </div> </div> </div> </li> <li> <a data-event="global-clicked-topnav" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" title="Support">Support</a> <div> <ul class="menu-drop menu-drop-support"> <li> <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" title="Support Overview">Support Overview</a> <ul class="menu-pop"> <li class="title">Support Overview</li> <li> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/support/options/" title="Azure Support" class="label">Azure Support</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/support/options/" title="Azure Support" class="sub">Find the support options you need</a> </li> <li> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/support/plans/" title="Compare Support Plans" class="label">Compare Support Plans</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/support/plans/" title="Compare Support Plans" class="sub">Explore and purchase technical support</a> </li> <li> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/support/forums/" title="Forums" class="label">Forums</a> <a data-event="global-clicked-mainmenu" href="https://azure.microsoft.com/en-us/support/forums/" title="Forums" class="sub">Get answers from Microsoft and community experts</a> </li> </ul> <div class="free-trial"> <div> <p>Sign up for free and get <span class="price-data " data-amount="{&quot;currencies&quot;:{&quot;USD&quot;:200.0,&quot;ARS&quot;:2800.0,&quot;AUD&quot;:260.0,&quot;BRL&quot;:750.0,&quot;CAD&quot;:250.0,&quot;CHF&quot;:190.0,&quot;DKK&quot;:1300.0,&quot;EUR&quot;:170.0,&quot;GBP&quot;:125.0,&quot;HKD&quot;:1600.0,&quot;IDR&quot;:2940000.0,&quot;INR&quot;:12100.0,&quot;JPY&quot;:20500.0,&quot;KRW&quot;:240000.0,&quot;MXN&quot;:3600.0,&quot;MYR&quot;:900.0,&quot;NOK&quot;:1650.0,&quot;NZD&quot;:300.0,&quot;RUB&quot;:12500.0,&quot;SAR&quot;:750.0,&quot;SEK&quot;:1600.0,&quot;TRY&quot;:610.0,&quot;TWD&quot;:6300.0,&quot;ZAR&quot;:3450.0}}" data-decimals="0">$200</span> to spend on all Azure services</p> <a href="https://docs.microsoft.com/en-us/free/" title="Learn more" class="wa-arrowLink wa-arrowLink-light" data-event="global-clicked-menumessage" data-event-property="Support (Overview)">Learn more</a> <span class="icon icon-size13" style="fill: #fff"><svg><use xlink:href="#azure"></use></svg></span> </div> </div> </li> <li><a href="https://azure.microsoft.com/en-us/support/trust-center/" title="Trust Center">Trust Center</a></li> <li> <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" title="Legal">Legal</a> <ul class="menu-pop"> <li class="title">Legal</li> <li> <a href="https://docs.microsoft.com/en-us/support/legal/" title="Overview" class="label"> Overview </a> </li> <li> <a href="https://docs.microsoft.com/en-us/support/legal/subscription-agreement/" title="Subscription Agreement" class="label"> Subscription Agreement </a> </li> <li> <a href="http://www.microsoftvolumelicensing.com/DocumentSearch.aspx?Mode=3&amp;DocumentTypeId=31" title="Services Terms" class="label"> Services Terms </a> </li> <li> <a href="https://docs.microsoft.com/en-us/support/legal/offer-details/" title="Offer Details" class="label"> Offer Details </a> </li> <li> <a href="https://www.microsoft.com/en-us/privacystatement/OnlineServices/Default.aspx" title="Privacy Statement" class="label"> Privacy Statement </a> </li> <li> <a href="https://docs.microsoft.com/en-us/support/legal/sla/" title="Service Level Agreements" class="label"> Service Level Agreements </a> </li> <li> <a href="https://docs.microsoft.com/en-us/support/legal/preview-supplemental-terms/" title="Preview Supplemental Terms" class="label"> Preview Supplemental Terms </a> </li> <li> <a href="https://docs.microsoft.com/en-us/support/legal/marketplace-terms/" title="Marketplace Terms" class="label"> Marketplace Terms </a> </li> <li> <a href="https://docs.microsoft.com/en-us/support/legal/website-terms-of-use/" title="Website Terms Of Use" class="label"> Website Terms Of Use </a> </li> </ul> <div class="free-trial"> <div> <p>Sign up for free and get <span class="price-data " data-amount="{&quot;currencies&quot;:{&quot;USD&quot;:200.0,&quot;ARS&quot;:2800.0,&quot;AUD&quot;:260.0,&quot;BRL&quot;:750.0,&quot;CAD&quot;:250.0,&quot;CHF&quot;:190.0,&quot;DKK&quot;:1300.0,&quot;EUR&quot;:170.0,&quot;GBP&quot;:125.0,&quot;HKD&quot;:1600.0,&quot;IDR&quot;:2940000.0,&quot;INR&quot;:12100.0,&quot;JPY&quot;:20500.0,&quot;KRW&quot;:240000.0,&quot;MXN&quot;:3600.0,&quot;MYR&quot;:900.0,&quot;NOK&quot;:1650.0,&quot;NZD&quot;:300.0,&quot;RUB&quot;:12500.0,&quot;SAR&quot;:750.0,&quot;SEK&quot;:1600.0,&quot;TRY&quot;:610.0,&quot;TWD&quot;:6300.0,&quot;ZAR&quot;:3450.0}}" data-decimals="0">$200</span> to spend on all Azure services</p> <a href="https://docs.microsoft.com/en-us/free/" title="Learn more" class="wa-arrowLink wa-arrowLink-light" data-event="global-clicked-menumessage" data-event-property="Support (Legal)">Learn more</a> <span class="icon icon-size13" style="fill: #fff"><svg><use xlink:href="#azure"></use></svg></span> </div> </div> </li> <li><a href="https://azure.microsoft.com/en-us/status/" title="Azure Status Dashboard">Azure Status Dashboard</a></li> </ul> </div> </li> <li class="mobile-free-trial az_hUpdated"> <a data-event="global-clicked-primarycta" href="https://azure.microsoft.com/en-us/free/" class="button button-primary" title="Free account">Free account</a> <a href="tel:" title="Sales">Sales: <span data-control="geophone">1-800-867-1389</span></a> </li> </ul> </div> <div class="nav-end"></div> </header> 


    <div id="lca-cookie-notification" class="shell-notification" style="display:none;">
        <div class="shell-notification-grid-row shell-notification-clearfix">
            <span id="cookie.consent.europe" class="notification-txt">By using this site you agree to the use of cookies for analytics, personalized content and ads.</span>
            <span class="notification-action">
            <a id="privacystatement-link" tabindex="1" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" title="Privacy Statement">Learn more</a>
            <a id="close" tabindex="2" title="close">
                <i class="shell-icon-close"></i>
            </a>
            </span>
        </div>
    </div>
    <div id="msdn-redirection-notification" class="shell-notification" style="display:none;">
        <div class="shell-notification-grid-row shell-notification-clearfix">
            <span id="msdn.redirection.text" class="notification-txt">You were redirected to this page from MSDN.  We are in the process of migrating all technical content to docs.microsoft.com.</span>
            <span class="notification-action">
            <a id="redirect-notification-close" tabindex="1" title="close">
                <i class="shell-icon-close"></i>
            </a>
            </span>
        </div>
    </div>

    <div id="sub-header" class="container" ms.cmpgrp="breadcrumb" role="navigation" aria-label="breadcrumb">    
        <div id="sub-header-content">
            <div class="content">
                <ul class="breadcrumbs"><li><a href="https://docs.microsoft.com/en-us/azure/index">Azure</a></li><li><a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-resiliency-overview">Guidance</a></li></ul>
            </div>
        </div>
    </div>
</div>

    <main>
      <div class="container" ms.pgarea="body">      
        <div id="page-actions" ms.cmpgrp="social" role="complementary">
          <div id="page-actions-content" class="fixed pinned-actions" style="top: 18px; width: 302px; max-height: 937px;">
          
            <ol class="action-list">
              
              <li>
                <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#comments-container" class="button is-primary is-small" id="comments-link">
                  <i class="icon icon-comments"></i>Comments
                </a>
              </li>
              
              
              <li id="contenteditbtn">
                <a href="https://github.com/Microsoft/azure-docs/blob/master/articles/guidance/guidance-elasticsearch-running-on-azure.md" title="Edit This Document" class="button is-primary is-small">
                  <i class="icon icon-editor"></i>Edit
                </a>
              </li>
              
              <li>
                <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" class="button is-primary is-small sharebutton" title="Share This Document"><i class="icon icon-share"></i>Share</a>
                <div class="share-container">
                  
                    <div><a href="https://twitter.com/intent/tweet?original_referer=https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure&amp;text=Running%20Elasticsearch%20on%20Azure%20%7C%20Microsoft%20Docs&amp;tw_p=tweetbutton&amp;url=https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure" class="share-twitter"><i class="icon icon-twitter"></i>Twitter</a></div>
                    <div><a href="https://www.facebook.com/sharer/sharer.php?u=https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure" class="share-facebook"><i class="icon icon-facebook"></i>Facebook</a></div>
                  

                  

                  
                </div>
              </li>
              
              
              <li class="menu">
                <div class="dropdown-container">
                  <div class="dropdown">
                    <label for="theme-selector">Theme</label>
                    <select id="theme-selector">
                      <option value="">Light
                      </option><option value="theme_night">Dark
                    </option></select>
                  </div>
                </div>
              </li>
            </ol>

            <div id="menu-expand">
              <h4><span id="menu-expand-icon">+ </span>Options</h4>
            </div>

            <nav id="side-doc-outline" class="doc-outline" ms.cmpgrp="intopic toc" role="navigation" aria-label="On page navigation">
              <h3 style="display: block;">In this article</h3>
            <ul><li class=""><a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#overview">Overview</a></li><li class="selected"><a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#the-structure-of-elasticsearch">The structure of Elasticsearch</a></li><li><a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#general-system-guidelines">General system guidelines</a></li><li><a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#cluster-and-node-sizing-and-scalability">Cluster and node sizing and scalability</a></li></ul></nav>

          </div>
        </div>

        <div id="sidebar" ms.cmpgrp="left toc" role="navigation" aria-label="main navigation">
          <div id="sidebarContent" class="fixed" style="top: 18px; width: 288px;">
            <div class="filterHolder"><form class="tocFilter"><input placeholder="Filter" aria-label="Filter" type="search"><a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#" title="clear filter" class="clearInput"></a></form><div class="emptyFilterMessage">No results</div></div>
            <nav class="toc" role="application" style="max-height: 877px;"><ul aria-treegrid="true" class="noSibs"><li aria-expanded="true" aria-treeitem="true"><span data-text="architecture">Architecture</span><ul aria-treegrid="true"><li aria-expanded="false" tabindex="0" aria-treeitem="true"><span data-text="cloud fundamentals">Cloud Fundamentals</span><ul aria-treegrid="true"><li aria-expanded="false" tabindex="0" aria-treeitem="true" class="noSubs"><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-resiliency-overview" data-text="design resilient applications">Design resilient applications</a><ul aria-treegrid="true"><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-resiliency-checklist" data-text="resiliency checklist">Resiliency checklist</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-resiliency-failure-mode-analysis" data-text="failure mode analysis">Failure mode analysis</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/resiliency/resiliency-disaster-recovery-azure-applications" data-text="disaster recovery">Disaster recovery</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/resiliency/resiliency-disaster-recovery-high-availability-azure-applications" data-text="disaster recovery and high availability">Disaster recovery and high availability</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/resiliency/resiliency-high-availability-azure-applications" data-text="high availability">High availability</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/resiliency/resiliency-high-availability-checklist" data-text="high availability checklist">High availability checklist</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/resiliency/resiliency-service-guidance-index" data-text="azure service-specific resiliency guidance">Azure service-specific resiliency guidance</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/resiliency/resiliency-technical-guidance-recovery-data-corruption" data-text="recovery from data corruption or accidental deletion">Recovery from data corruption or accidental deletion</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/resiliency/resiliency-technical-guidance-recovery-local-failures" data-text="recovery from local failures">Recovery from local failures</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/resiliency/resiliency-technical-guidance-recovery-loss-azure-region" data-text="recovery from a region-wide service disruption">Recovery from a region-wide service disruption</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/resiliency/resiliency-technical-guidance-recovery-on-premises-azure" data-text="recovery from on-premises to azure">Recovery from on-premises to Azure</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/resiliency/resiliency-technical-guidance" data-text="azure resiliency technical guidance">Azure resiliency technical guidance</a></li></ul></li></ul></li><li aria-expanded="false" tabindex="0" aria-treeitem="true"><span data-text="reference architectures">Reference Architectures</span><ul aria-treegrid="true"><li aria-expanded="false" tabindex="0" aria-treeitem="true" class="noSubs"><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-ra-compute" data-text="run vm workloads in azure">Run VM workloads in Azure</a><ul aria-treegrid="true"><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-compute-single-vm-linux" data-text="run a linux vm on azure">Run a Linux VM on Azure</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-compute-single-vm" data-text="run a windows vm on azure">Run a Windows VM on Azure</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-compute-multi-vm" data-text="run multiple vms on azure for scalability and availability">Run multiple VMs on Azure for scalability and availability</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-compute-n-tier-vm-linux" data-text="run linux vms for an n-tier architecture">Run Linux VMs for an N-tier architecture</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-compute-n-tier-vm" data-text="run windows vms for an n-tier architecture">Run Windows VMs for an N-tier architecture</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-compute-multiple-datacenters-linux" data-text="run linux vms in multiple regions for high availability">Run Linux VMs in multiple regions for high availability</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-compute-multiple-datacenters" data-text="run windows vms in multiple regions for high availability">Run Windows VMs in multiple regions for high availability</a></li></ul></li><li aria-expanded="false" tabindex="0" aria-treeitem="true" class="noSubs"><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-ra-hybrid-networking" data-text="connect your on-premises network to azure">Connect your on-premises network to Azure</a><ul aria-treegrid="true"><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-hybrid-network-expressroute" data-text="hybrid network architecture with azure expressroute">Hybrid network architecture with Azure ExpressRoute</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-hybrid-network-vpn" data-text="hybrid network architecture with azure and on-premises vpn">Hybrid network architecture with Azure and On-premises VPN</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-hybrid-network-expressroute-vpn-failover" data-text="highly available hybrid network architecture">Highly available hybrid network architecture</a></li></ul></li><li aria-expanded="false" tabindex="0" aria-treeitem="true" class="noSubs"><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-ra-network-security" data-text="protect the cloud boundary in azure">Protect the Cloud Boundary in Azure</a><ul aria-treegrid="true"><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-iaas-ra-secure-vnet-hybrid" data-text="secure hybrid network architecture in azure">Secure hybrid network architecture in Azure</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-iaas-ra-secure-vnet-dmz" data-text="dmz between azure and the internet">DMZ between Azure and the Internet</a></li></ul></li><li aria-expanded="false" tabindex="0" aria-treeitem="true" class="noSubs"><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-ra-identity" data-text="manage identity in azure">Manage identity in Azure</a><ul aria-treegrid="true"><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-identity-aad" data-text="implement azure active directory">Implement Azure Active Directory</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-identity-adds-extend-domain" data-text="extend adds to azure">Extend ADDS to Azure</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-identity-adds-resource-forest" data-text="create an adds resource forest in azure">Create an ADDS resource forest in Azure</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-identity-adfs" data-text="implement adfs in azure">Implement ADFS in Azure</a></li></ul></li><li aria-expanded="false" tabindex="0" aria-treeitem="true" class="noSubs"><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-ra-app-service" data-text="web application architectures for azure app service">Web application architectures for Azure App Service</a><ul aria-treegrid="true"><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-web-apps-basic" data-text="basic web application">Basic web application</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-web-apps-multi-region" data-text="web application with high availability">Web application with high availability</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-web-apps-scalability" data-text="improve scalability in a web application">Improve scalability in a web application</a></li></ul></li></ul></li><li aria-expanded="false" tabindex="0" aria-treeitem="true" class="noSubs"><span data-text="best practices for cloud applications">Best Practices for Cloud Applications</span><ul aria-treegrid="true"><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/best-practices-api-design" data-text="api design guidance">API design guidance</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/best-practices-api-implementation" data-text="api implementation guidance">API implementation guidance</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/best-practices-auto-scaling" data-text="autoscaling guidance">Autoscaling guidance</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/best-practices-availability-checklist" data-text="availability checklist">Availability checklist</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/best-practices-background-jobs" data-text="background jobs guidance">Background jobs guidance</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/best-practices-availability-paired-regions" data-text="azure paired regions">Azure Paired Regions</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/best-practices-caching" data-text="caching guidance">Caching guidance</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/best-practices-cdn" data-text="content delivery network guidance">Content Delivery Network guidance</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/best-practices-data-partitioning" data-text="data partitioning guidance">Data partitioning guidance</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/best-practices-monitoring" data-text="monitoring and diagnostics guidance">Monitoring and diagnostics guidance</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/best-practices-network-security" data-text="microsoft cloud services and network security">Microsoft cloud services and network security</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/best-practices-resource-manager-design-templates" data-text="patterns for designing azure resource manager templates">Patterns for designing Azure Resource Manager templates</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-naming-conventions" data-text="recommended naming conventions for azure resources">Recommended naming conventions for Azure resources</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/best-practices-resource-manager-security" data-text="security considerations for azure resource manager">Security considerations for Azure Resource Manager</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/best-practices-resource-manager-state" data-text="sharing state in azure resource manager templates">Sharing state in Azure Resource Manager templates</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/best-practices-retry-general" data-text="retry general guidance">Retry general guidance</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/best-practices-retry-service-specific" data-text="retry service specific guidance">Retry service specific guidance</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/best-practices-scalability-checklist" data-text="scalability checklist">Scalability checklist</a></li></ul></li><li aria-expanded="true" tabindex="0" aria-treeitem="true"><span data-text="scenario guides">Scenario Guides</span><ul aria-treegrid="true"><li aria-expanded="true" tabindex="0" aria-treeitem="true" class="noSubs"><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch" data-text="elasticsearch on azure guidance">Elasticsearch on Azure Guidance</a><ul aria-treegrid="true"><li class="selectedHolder"><a tabindex="0" class="selected" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure" data-text="run elasticsearch on azure">Run Elasticsearch on Azure</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-tuning-data-ingestion-performance" data-text="tune data ingestion performance">Tune data ingestion performance</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-tuning-data-aggregation-and-query-performance" data-text="tune data aggregation and query performance">Tune data aggregation and query performance</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-configuring-resilience-and-recovery" data-text="configure resilience and recovery">Configure resilience and recovery</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-creating-performance-testing-environment" data-text="create a performance testing environment">Create a performance testing environment</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-implementing-jmeter-test-plan" data-text="implement a jmeter test plan">Implement a JMeter test plan</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-deploying-jmeter-junit-sampler" data-text="deploy a jmeter junit sampler">Deploy a JMeter JUnit sampler</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-automated-resilience-tests" data-text="run the automated resiliency tests">Run the automated resiliency tests</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-automated-performance-tests" data-text="run the automated performance tests">Run the automated performance tests</a></li></ul></li><li aria-expanded="false" tabindex="0" aria-treeitem="true" class="noSubs"><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-multitenant-identity" data-text="identity management for multitenant applications">Identity management for multitenant applications</a><ul aria-treegrid="true"><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-multitenant-identity-intro" data-text="overview">Overview</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-multitenant-identity-tailspin" data-text="tailspin surveys application">Tailspin Surveys application</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-multitenant-identity-authenticate" data-text="authentication using azure ad and openid connect">Authentication using Azure AD and OpenID Connect</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-multitenant-identity-claims" data-text="claims-based identities">Claims-based identities</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-multitenant-identity-signup" data-text="sign-up and tenant onboarding">Sign-up and tenant onboarding</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-multitenant-identity-app-roles" data-text="application roles">Application roles</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-multitenant-identity-authorize" data-text="role-based and resource-based authorization">Role-based and resource-based authorization</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-multitenant-identity-web-api" data-text="secure a backend web api">Secure a backend web API</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-multitenant-identity-token-cache" data-text="cache access tokens">Cache access tokens</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-multitenant-identity-adfs" data-text="federation with a customer&amp;#39;s ad fs">Federation with a customer's AD FS</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-multitenant-identity-client-assertion" data-text="use client assertion to get access tokens">Use client assertion to get access tokens</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-multitenant-identity-keyvault" data-text="use azure key vault to protect application secrets">Use Azure Key Vault to protect application secrets</a></li><li><a tabindex="0" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-nva-ha" data-text="deploying virtual appliances in high availability">Deploying virtual appliances in high availability</a></li></ul></li></ul></li></ul></li></ul></nav>          
            <div class="pdfDownloadHolder"></div>
          </div>
        </div>

        <div id="menu-nav" class="dropdown-container">
          <div class="dropdown dropdown-full mobilenavi">
            <select><option class="noLink">Architecture</option><option class="noLink">&nbsp;&nbsp;&nbsp;Cloud Fundamentals</option><option value="/en-us/azure/guidance/guidance-resiliency-overview">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Design resilient applications</option><option value="/en-us/azure/guidance/guidance-resiliency-checklist">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Resiliency checklist</option><option value="/en-us/azure/guidance/guidance-resiliency-failure-mode-analysis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Failure mode analysis</option><option value="/en-us/azure/resiliency/resiliency-disaster-recovery-azure-applications">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Disaster recovery</option><option value="/en-us/azure/resiliency/resiliency-disaster-recovery-high-availability-azure-applications">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Disaster recovery and high availability</option><option value="/en-us/azure/resiliency/resiliency-high-availability-azure-applications">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;High availability</option><option value="/en-us/azure/resiliency/resiliency-high-availability-checklist">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;High availability checklist</option><option value="/en-us/azure/resiliency/resiliency-service-guidance-index">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Azure service-specific resiliency guidance</option><option value="/en-us/azure/resiliency/resiliency-technical-guidance-recovery-data-corruption">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Recovery from data corruption or accidental deletion</option><option value="/en-us/azure/resiliency/resiliency-technical-guidance-recovery-local-failures">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Recovery from local failures</option><option value="/en-us/azure/resiliency/resiliency-technical-guidance-recovery-loss-azure-region">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Recovery from a region-wide service disruption</option><option value="/en-us/azure/resiliency/resiliency-technical-guidance-recovery-on-premises-azure">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Recovery from on-premises to Azure</option><option value="/en-us/azure/resiliency/resiliency-technical-guidance">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Azure resiliency technical guidance</option><option class="noLink">&nbsp;&nbsp;&nbsp;Reference Architectures</option><option value="/en-us/azure/guidance/guidance-ra-compute">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Run VM workloads in Azure</option><option value="/en-us/azure/guidance/guidance-compute-single-vm-linux">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Run a Linux VM on Azure</option><option value="/en-us/azure/guidance/guidance-compute-single-vm">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Run a Windows VM on Azure</option><option value="/en-us/azure/guidance/guidance-compute-multi-vm">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Run multiple VMs on Azure for scalability and availability</option><option value="/en-us/azure/guidance/guidance-compute-n-tier-vm-linux">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Run Linux VMs for an N-tier architecture</option><option value="/en-us/azure/guidance/guidance-compute-n-tier-vm">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Run Windows VMs for an N-tier architecture</option><option value="/en-us/azure/guidance/guidance-compute-multiple-datacenters-linux">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Run Linux VMs in multiple regions for high availability</option><option value="/en-us/azure/guidance/guidance-compute-multiple-datacenters">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Run Windows VMs in multiple regions for high availability</option><option value="/en-us/azure/guidance/guidance-ra-hybrid-networking">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Connect your on-premises network to Azure</option><option value="/en-us/azure/guidance/guidance-hybrid-network-expressroute">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hybrid network architecture with Azure ExpressRoute</option><option value="/en-us/azure/guidance/guidance-hybrid-network-vpn">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hybrid network architecture with Azure and On-premises VPN</option><option value="/en-us/azure/guidance/guidance-hybrid-network-expressroute-vpn-failover">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Highly available hybrid network architecture</option><option value="/en-us/azure/guidance/guidance-ra-network-security">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Protect the Cloud Boundary in Azure</option><option value="/en-us/azure/guidance/guidance-iaas-ra-secure-vnet-hybrid">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Secure hybrid network architecture in Azure</option><option value="/en-us/azure/guidance/guidance-iaas-ra-secure-vnet-dmz">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DMZ between Azure and the Internet</option><option value="/en-us/azure/guidance/guidance-ra-identity">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Manage identity in Azure</option><option value="/en-us/azure/guidance/guidance-identity-aad">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Implement Azure Active Directory</option><option value="/en-us/azure/guidance/guidance-identity-adds-extend-domain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extend ADDS to Azure</option><option value="/en-us/azure/guidance/guidance-identity-adds-resource-forest">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create an ADDS resource forest in Azure</option><option value="/en-us/azure/guidance/guidance-identity-adfs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Implement ADFS in Azure</option><option value="/en-us/azure/guidance/guidance-ra-app-service">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Web application architectures for Azure App Service</option><option value="/en-us/azure/guidance/guidance-web-apps-basic">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Basic web application</option><option value="/en-us/azure/guidance/guidance-web-apps-multi-region">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Web application with high availability</option><option value="/en-us/azure/guidance/guidance-web-apps-scalability">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Improve scalability in a web application</option><option class="noLink">&nbsp;&nbsp;&nbsp;Best Practices for Cloud Applications</option><option value="/en-us/azure/best-practices-api-design">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;API design guidance</option><option value="/en-us/azure/best-practices-api-implementation">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;API implementation guidance</option><option value="/en-us/azure/best-practices-auto-scaling">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Autoscaling guidance</option><option value="/en-us/azure/best-practices-availability-checklist">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Availability checklist</option><option value="/en-us/azure/best-practices-background-jobs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Background jobs guidance</option><option value="/en-us/azure/best-practices-availability-paired-regions">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Azure Paired Regions</option><option value="/en-us/azure/best-practices-caching">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Caching guidance</option><option value="/en-us/azure/best-practices-cdn">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Content Delivery Network guidance</option><option value="/en-us/azure/best-practices-data-partitioning">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Data partitioning guidance</option><option value="/en-us/azure/best-practices-monitoring">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Monitoring and diagnostics guidance</option><option value="/en-us/azure/best-practices-network-security">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Microsoft cloud services and network security</option><option value="/en-us/azure/best-practices-resource-manager-design-templates">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Patterns for designing Azure Resource Manager templates</option><option value="/en-us/azure/guidance/guidance-naming-conventions">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Recommended naming conventions for Azure resources</option><option value="/en-us/azure/best-practices-resource-manager-security">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Security considerations for Azure Resource Manager</option><option value="/en-us/azure/best-practices-resource-manager-state">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sharing state in Azure Resource Manager templates</option><option value="/en-us/azure/best-practices-retry-general">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retry general guidance</option><option value="/en-us/azure/best-practices-retry-service-specific">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retry service specific guidance</option><option value="/en-us/azure/best-practices-scalability-checklist">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Scalability checklist</option><option class="noLink">&nbsp;&nbsp;&nbsp;Scenario Guides</option><option value="/en-us/azure/guidance/guidance-elasticsearch">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Elasticsearch on Azure Guidance</option><option value="/en-us/azure/guidance/guidance-elasticsearch-running-on-azure" selected="selected">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Run Elasticsearch on Azure</option><option value="/en-us/azure/guidance/guidance-elasticsearch-tuning-data-ingestion-performance">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tune data ingestion performance</option><option value="/en-us/azure/guidance/guidance-elasticsearch-tuning-data-aggregation-and-query-performance">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tune data aggregation and query performance</option><option value="/en-us/azure/guidance/guidance-elasticsearch-configuring-resilience-and-recovery">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Configure resilience and recovery</option><option value="/en-us/azure/guidance/guidance-elasticsearch-creating-performance-testing-environment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a performance testing environment</option><option value="/en-us/azure/guidance/guidance-elasticsearch-implementing-jmeter-test-plan">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Implement a JMeter test plan</option><option value="/en-us/azure/guidance/guidance-elasticsearch-deploying-jmeter-junit-sampler">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deploy a JMeter JUnit sampler</option><option value="/en-us/azure/guidance/guidance-elasticsearch-running-automated-resilience-tests">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Run the automated resiliency tests</option><option value="/en-us/azure/guidance/guidance-elasticsearch-running-automated-performance-tests">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Run the automated performance tests</option><option value="/en-us/azure/guidance/guidance-multitenant-identity">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Identity management for multitenant applications</option><option value="/en-us/azure/guidance/guidance-multitenant-identity-intro">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overview</option><option value="/en-us/azure/guidance/guidance-multitenant-identity-tailspin">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tailspin Surveys application</option><option value="/en-us/azure/guidance/guidance-multitenant-identity-authenticate">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Authentication using Azure AD and OpenID Connect</option><option value="/en-us/azure/guidance/guidance-multitenant-identity-claims">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Claims-based identities</option><option value="/en-us/azure/guidance/guidance-multitenant-identity-signup">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sign-up and tenant onboarding</option><option value="/en-us/azure/guidance/guidance-multitenant-identity-app-roles">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Application roles</option><option value="/en-us/azure/guidance/guidance-multitenant-identity-authorize">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Role-based and resource-based authorization</option><option value="/en-us/azure/guidance/guidance-multitenant-identity-web-api">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Secure a backend web API</option><option value="/en-us/azure/guidance/guidance-multitenant-identity-token-cache">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cache access tokens</option><option value="/en-us/azure/guidance/guidance-multitenant-identity-adfs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Federation with a customer's AD FS</option><option value="/en-us/azure/guidance/guidance-multitenant-identity-client-assertion">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use client assertion to get access tokens</option><option value="/en-us/azure/guidance/guidance-multitenant-identity-keyvault">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use Azure Key Vault to protect application secrets</option><option value="/en-us/azure/guidance/guidance-nva-ha">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deploying virtual appliances in high availability</option></select>
          </div>
        </div>

        <div id="main" role="main">
          <div id="langDisclaimer" class="disclaimer" style="display:none;"><span class="icon icon-disclaimer"></span><span class="disclaimertext">This content is not available in your language but here is the English version.</span></div>
                    

          
            <h1 id="running-elasticsearch-on-azure" sourcefile="articles/guidance/guidance-elasticsearch-running-on-azure.md" sourcestartlinenumber="21" sourceendlinenumber="21">Running Elasticsearch on Azure</h1>
            <div id="metadata" ms.cmpgrp="page info">
              <div class="info">
                <div class="meta">
                  
                  <time class="date" datetime="9/22/2016 12:00:00 AM">2016/9/22</time>
                  
                  <span class="reading-time">41 min to read</span>
                  
                  <span class="contributors-text">Contributors</span>
                  <ul class="contributors">
                    
                      
                      
                        <li><a href="https://github.com/dragon119" title="Masashi Narumoto"><img src="./Running Elasticsearch on Azure _ Microsoft Docs_files/dragon119.png" alt="Masashi Narumoto"></a></li>
                      
                      
                      
                        <li><a href="https://github.com/bennage" title="Christopher Bennage"><img src="./Running Elasticsearch on Azure _ Microsoft Docs_files/bennage.png" alt="Christopher Bennage"></a></li>
                      
                      
                      
                        <li><a href="https://github.com/arambarri" title="Federico Arambarri"><img src="./Running Elasticsearch on Azure _ Microsoft Docs_files/arambarri.png" alt="Federico Arambarri"></a></li>
                      
                      
                      
                        <li><a href="https://github.com/squillace" title="Ralph Squillace"><img src="./Running Elasticsearch on Azure _ Microsoft Docs_files/squillace.png" alt="Ralph Squillace"></a></li>
                      
                      
                                                            
                  </ul>
                  
                </div>
                
              </div>
            </div>

            <nav id="center-doc-outline" class="doc-outline" ms.cmpgrp="intopic toc" role="navigation" aria-label="On page navigation">
              <h3 style="display: block;">In this article</h3>
            <ul><li><a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#overview">Overview</a></li><li><a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#the-structure-of-elasticsearch">The structure of Elasticsearch</a></li><li><a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#general-system-guidelines">General system guidelines</a></li><li><a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#cluster-and-node-sizing-and-scalability">Cluster and node sizing and scalability</a></li></ul></nav>
          

          <div><div class="content">
<!-- BEGIN INCLUDE: Include content from &quot;includes/guidance-pnp-header-include.md&quot; --><p><a href="http://aka.ms/mspnp"><img src="./Running Elasticsearch on Azure _ Microsoft Docs_files/pnp-logo.png" alt="patterns &amp; practices"></a></p>
<!--END INCLUDE --><p>This article is <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch">part of a series</a>.</p>
<h2 id="overview">Overview</h2>
<p>This document provides a brief introduction to the general structure of Elasticsearch and then
describes how you can implement an Elasticsearch cluster using Azure. It touches on best
practices for deploying an Elasticsearch cluster, concentrating on the various functional performance
and management requirements of your system, and considering how your requirements should drive the
configuration and topology that you select.</p>
<div class="NOTE alert"><h5>Note</h5><p>This guidance assumes some basic familiarity with <a href="https://www.elastic.co/products/elasticsearch">Elasticsearch</a>.</p>
</div>
<h2 id="the-structure-of-elasticsearch">The structure of Elasticsearch</h2>
<p>Elasticsearch is a document database highly optimized to act as a search engine. Documents are
serialized in JSON format. Data is held in indexes, implemented by using <a href="https://lucene.apache.org/">Apache Lucene</a>, although
the details are abstracted from view and it is not necessary to fully understand Lucene in order to use
Elasticsearch.</p>
<h3 id="clusters-nodes-indexes-and-shards">Clusters, nodes, indexes, and shards</h3>
<p>Elasticsearch implements a clustered architecture that uses sharding to distribute data across
multiple nodes, and replication to provide high availability. Documents are stored in indexes. The user can specify which fields in a document are used to uniquely identify it within an index, or the system can generate a key field and values automatically. The index is used to physically organize documents and is the principal means for locating documents.</p>
<p>An index contains a set of shards. Documents are evenly dispersed across shards using a hashing
mechanism based on the index key values and the number of shards in the index.</p>
<p>Indexes can be replicated. In this case each shard in the index is copied. Elasticsearch ensures that
each original shard for an index (referred to as a “primary shard”) and its replica always reside on
different nodes. When a document is added or modified, all write operations are performed on the primary shard first and
then at each replica.</p>
<p>The figure below shows the essential aspects of an Elasticsearch cluster containing three nodes. An
index has been created that consists of two primary shards with two replicas for each shard (six shards
in all).</p>
<p><img src="./Running Elasticsearch on Azure _ Microsoft Docs_files/general-cluster1.png" alt=""></p>
<p><em>A simple Elasticsearch cluster containing two primary nodes and two sets of replicas</em></p>
<p>In this cluster, primary shard 1 and primary shard 2 are located on separate nodes to help balance the
load across them. The replicas are similarly distributed. If a single node fails, the remaining nodes
have sufficient information to enable the system to continue functioning. If necessary, Elasticsearch
will promote a replica shard to become a primary shard if the corresponding primary shard is unavailable.</p>
<h3 id="node-roles">Node roles</h3>
<p>The nodes in an Elasticsearch cluster can perform the following roles:</p>
<ul>
<li>A <strong>data node</strong> which can hold one or more shards that contain index data.</li>
<li>A <strong>client node</strong> that does not hold index data but that handles incoming requests made by client
applications to the appropriate data node.</li>
<li>A <strong>master node</strong> that does not hold index data but that performs cluster management operations, such
as maintaining and distributing routing information around the cluster (the list of which nodes contain
which shards), determining which nodes are available, relocating shards as nodes appear and disappear,
and coordinating recovery after node failure. Multiple nodes can be configured as masters, but only
one will actually be elected to perform the master functions. If this node fails, another election
takes place and one of the other eligible master nodes will be elected and take over.</li>
</ul>
<div class="NOTE alert"><h5>Note</h5><p>The elected master node is critical to the well-being of the cluster. The other nodes
ping it regularly to ensure that it is still available. If the elected master node is also acting as
a data node, there is a chance that the node can become busy and fail to respond to these pings. In
this situation, the master is deemed to have failed and one of the other master nodes is elected in its
place.</p>
</div>
<p> The figure below shows a topology containing a mixture of dedicated master, client, and data nodes in an Elasticsearch cluster.</p>
<p><img src="./Running Elasticsearch on Azure _ Microsoft Docs_files/general-cluster2.png" alt=""></p>
<p><em>An Elasticsearch cluster showing different types of nodes</em></p>
<h3 id="costs-and-benefits-of-using-client-nodes">Costs and benefits of using client nodes</h3>
<p>When an application submits a query to an Elasticsearch cluster, the node to which the application
connects is responsible for directing the query process. The node forwards the request to each data node
and gathers the results, returning the accumulated information to the application. If a query involves
aggregations and other computations, the node to which the application connects performs the necessary
operations after retrieving the data from each of the other nodes. This scatter/gather process can
consume considerable processing and memory resources.</p>
<p>Using dedicated client nodes to perform these tasks allows data nodes to focus on managing and storing
data. The result is that many scenarios that involve complex queries and aggregations can benefit from
using dedicated client nodes. However, the impact of using dedicated client nodes will likely vary
depending on your scenario, workload, and cluster size.</p>
<div class="NOTE alert"><h5>Note</h5><p>Refer to <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-tuning-data-aggregation-and-query-performance">Tuning Data Aggregation and Query Performance for Elasticsearch on Azure</a> for more information on the tuning process.</p>
</div>
<h3 id="connecting-to-a-cluster">Connecting to a cluster</h3>
<p>Elasticsearch exposes a series of REST APIs for building client applications and sending requests to a
cluster. If you are developing applications using the .NET Framework, two higher levels APIs are
available – <a href="http://nest.azurewebsites.net/">Elasticsearch.Net &amp; NEST</a>.</p>
<p>If you are building client applications using Java, you can use the <a href="https://www.elastic.co/guide/en/elasticsearch/client/java-api/current/client.html">Node Client API</a> to create client
nodes dynamically and add them to the cluster. Creating client nodes dynamically is convenient if your
system uses a relatively small number of long-lived connections. Client nodes created by using the Node
API are provided with the cluster routing map (the details of which nodes contain which shards) by the
master node. This information enables the Java application to connect directly to the appropriate nodes
when indexing or querying data, reducing the number of hops that may be necessary when using other APIs.</p>
<p>The cost of this approach is the overhead of enrolling the client node into the cluster. If a large
number of client nodes appear and disappear quickly, the impact of maintaining and distributing the
cluster routing map can become significant.</p>
<p>The figure below shows a configuration that uses a load balancer to route requests to a set of client nodes, although the same strategy can be used to connect directly to data nodes if client nodes are not used.</p>
<p><img src="./Running Elasticsearch on Azure _ Microsoft Docs_files/general-clientappinstances.png" alt=""></p>
<p><em>Client application instances connecting to an Elasticsearch cluster through the Azure Load Balancer</em></p>
<div class="NOTE alert"><h5>Note</h5><p>You can use the <a href="https://docs.microsoft.com/en-us/azure/load-balancer/load-balancer-overview">Azure Load Balancer</a> to expose the cluster to the public Internet, or
you can use an <a href="https://docs.microsoft.com/en-us/azure/load-balancer/load-balancer-internal-overview">internal load balancer</a> if the client applications and cluster are contained entirely
within the same private virtual network (VNet).</p>
</div>
<h3 id="node-discovery">Node discovery</h3>
<p>Elasticsearch is based on peer-to-peer communications, so discovering other nodes in a cluster is an
important part in the lifecycle of a node. Node discovery enables new data nodes to be added dynamically
to a cluster, which in turn allows the cluster to scale out transparently. Additionally, if a data node
fails to respond to communications requests from other nodes, a master node can decide that the data node
has failed and take the necessary steps to reallocate the shards that it was holding to other operational
data nodes.</p>
<p>Elasticsearch node discovery is handled by using a discovery module. The discovery module is a plugin
that can be switched to use a different discovery mechanism. The default discovery module (<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-discovery-zen.html">Zen</a>)
causes a node to issue ping requests to find other nodes on the same network. If other nodes respond,
they gossip to exchange information. A master node can then distribute shards to the new node (if it is a
data node) and rebalance the cluster. The Zen discovery module also handles the master election process and the protocol for detecting node failure.</p>
<p>Additionally, if you are running Elasticsearch nodes as Azure virtual
machines (VMs), multicast messaging is not supported. For this reasons, you should configure the Zen
discovery to use unicast messaging and provide a list of valid contact nodes in the elasticsearch.yml
configuration file.</p>
<p>If you are hosting an Elasticsearch cluster within an Azure virtual network, you can specify that the private
DHCP-assigned IP addressed given to each VM in the cluster should remain allocated (static). You can
configure Zen discovery unicast messaging using these static IP addresses. If you are using VMs with
dynamic IP addresses, keep in mind that if a VM stops and restarts it could be allocated a new IP address
making discovery more difficult. To handle this scenario, you can swap the Zen discovery module for the
<a href="https://www.elastic.co/blog/azure-cloud-plugin-for-elasticsearch">Azure Cloud Plugin</a>. This plugin uses the Azure API to implement the discovery mechanism, which is
based on Azure subscription information.</p>
<div class="NOTE alert"><h5>Note</h5><p>The current version of the Azure Cloud Plugin requires you to install the management
certificate for your Azure subscription in the Java keystore on the Elasticsearch node, and provide the
location and credentials for accessing the keystore in the elasticsearch.yml file. This file is held in
clear text, so it is vitally important that you ensure this file is only accessible by the account
running the Elasticsearch service.</p>
<p>Additionally, this approach may not be compatible with Azure Resource Manager deployments. For
these reasons, it is recommended that you use static IP addresses for master nodes, and use these nodes
to implement Zen discovery unicast messaging across the cluster. In the following configuration
(taken from the elasticsearch.yml file for a sample data node), the host IP addresses reference
master nodes in the cluster:</p>
</div>
<div class="codeHeader lang-yaml"><div class="copyBtn">Copy</div><div class="labelHolder">yaml</div></div><pre><code class="lang-yaml">discovery.zen.ping.multicast.enabled: <span class="hljs-literal">false</span>  
discovery.zen.ping.unicast.hosts: [<span class="hljs-string">"10.0.0.10"</span>,<span class="hljs-string">"10.0.0.11"</span>,<span class="hljs-string">"10.0.0.12"</span>]
</code></pre><h2 id="general-system-guidelines">General system guidelines</h2>
<p>Elasticsearch can run on a variety of computers, ranging from a single laptop to a cluster of high-end
servers. However, the more resources in terms of memory, computing power, and fast disks that are
available the better the performance. The following sections summarize the basic hardware and software
requirements for running Elasticsearch.</p>
<h3 id="memory-requirements">Memory requirements</h3>
<p>Elasticsearch attempts to store data in-memory for speed. A production server hosting a node for a
typical enterprise or moderate-sized commercial deployment on Azure should have between 14GB and 28GB of
RAM (D3 or D4 VMs). <strong>Spread the load across more nodes rather than creating nodes with more memory</strong>
(Experiments have shown that using larger nodes with more memory can cause extended recovery times in the
event of a failure.) However, although creating clusters with a very large number of small nodes can
increase availability and throughput, it also escalates the effort involved in managing and maintaining
such a system.</p>
<p><strong>Allocate 50% of the available memory on a server to the Elasticsearch heap</strong>. If you are using Linux set
the ES_HEAP_SIZE environment variable before running Elasticsearch. Alternatively, if you are using
Windows or Linux, you can specify memory size in the <code>Xmx</code> and <code>Xms</code> parameters when you start
Elasticseach. Set both of these parameters to the same value to avoid the Java Virtual Machine (JVM)
resizing the heap at runtime. However, <strong>do not allocate more than 30GB</strong>. Use the remaining memory for the operating system file cache.</p>
<div class="NOTE alert"><h5>Note</h5><p>Elasticsearch utilizes the Lucene library to create and manage indexes. Lucene structures
use a disk-based format, and caching these structures in the file system cache will greatly enhance
performance.</p>
</div>
<p>Note that the maximum optimal heap size for Java on a 64 bit machine is just above 30GB. Above this size
Java switches to using an extended mechanism for referencing objects on the heap, which increases the
memory requirements for each object and reduces performance.</p>
<p>The default Java garbage collector (Concurrent Mark and Sweep) may also perform sub-optimally if the heap
size is above 30GB. It is not currently recommended to switch to a different garbage collector as
Elasticsearch and Lucene have only been tested against the default.</p>
<p>Do not overcommit memory as swapping main memory to disk will severely impact performance. If possible,
disable swapping completely (the details depend on the operating system). If this is not possible then
enable the <em>mlockall</em> setting in the Elasticsearch configuration file (elasticsearch.yml) as follows:</p>
<div class="codeHeader lang-yaml"><div class="copyBtn">Copy</div><div class="labelHolder">yaml</div></div><pre><code class="lang-yaml">bootstrap.mlockall: <span class="hljs-literal">true</span>
</code></pre><p>This configuration setting causes the JVM to lock its memory and prevents it being swapped out by the operating system.</p>
<h3 id="disk-and-file-system-requirements">Disk and file system requirements</h3>
<p>Use data disks backed by premium storage for storing shards. Disks should be sized to hold the maximum
amount of data anticipated in your shards, although it is possible to add further disks later. You can
extend a shard across multiple disks on a node.</p>
<div class="NOTE alert"><h5>Note</h5><p>Elasticsearch compresses the data for stored fields by using the LZ4 algorithm, and in
Elasticsearch 2.0 onwards you can change the compression type. You can switch the compression algorithm
to DEFLATE as used by the <em>zip</em> and <em>gzip</em> utilities. This compression technique can be more resource
intensive, but you should consider using it for archived log data. This approach
can help to reduce index size.</p>
</div>
<p>It is not essential that all nodes in a cluster have the same disk layout and capacity. However, a node
with a very large disk capacity compared to other nodes in a cluster will attract more data and will
require increased processing power to handle this data. Consequently the node can become "hot" compared
to other nodes, and this can, in turn, affect performance.</p>
<p>If possible, use RAID 0 (striping). Other forms of RAID that implement parity and mirroring are
unnecessary as Elasticsearch provides its own high availablility solution in the form of replicas.</p>
<div class="NOTE alert"><h5>Note</h5><p>Prior to Elasticsearch 2.0.0, you could also implement striping at the software level by
specifying multiple directories in the <em>path.data</em> configuration setting. In Elasticsearch 2.0.0, this
form of striping is no longer supported. Instead, different shards may be allocated to different paths,
but all of the files in a single shard will be written to the same path. If you require striping, you
should stripe data at the operating system or hardware level.</p>
</div>
<p>To maximize storage throughput, each <strong>VM should have a dedicated premium storage account</strong>.</p>
<p>The Lucene library can use a large number of files to store index data, and Elasticsearch can open a
significant number of sockets for communicating between nodes and with clients. Make sure that the
operating system is configured to support an adequate number of open file descriptors (up to 64000 if
sufficient memory is available). Note that the default configuration for many Linux distributions limits
the number of open file descriptors to 1024, which is much too small.</p>
<p>Elasticsearch uses a combination of memory mapped (mmap) I/O and Java New I/O (NIO) to optimize
concurrent access to data files and indexes. If you are using Linux, you should configure the operating
system to ensure that there is sufficient virtual memory available with space for 256K memory map areas.</p>
<div class="NOTE alert"><h5>Note</h5><p>Many Linux distributions default to using the completely fair queuing (CFQ) scheduler when
arranging to write data to disk. This scheduler is not optimized for SSDs. Consider reconfiguring the
operating system to use either the NOOP scheduler or the deadline scheduler, both of which are more
effective for SSDs.</p>
</div>
<h3 id="cpu-requirements">CPU requirements</h3>
<p>Azure VMs are available in a variety of CPU configurations, supporting between 1 and 32 cores. For a
data node, a good starting point is a standard DS-series VM, and select either the DS3 (4
cores) or D4 (8 cores) SKUs. The DS3 also provides 14GB of RAM, while the DS4 includes 28GB.</p>
<p>The GS-series (for premium storage) and G-series (for standard storage) use Xeon E5 V3 processors which may be useful for workloads that are heavily compute-intensive, such as large-scale aggregations. For the latest information, visit <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/virtual-machines-linux-sizes">Sizes for virtual machines</a>.</p>
<h3 id="network-requirements">Network requirements</h3>
<p>Elasticsearch requires a network bandwidth of between 1 and 10Gbps, depending on the size and volatility
of the clusters that it implements. Elasticsearch migrates shards between nodes as more nodes are added
to a cluster. Elasticsearch assumes that the communication time between all nodes is roughly equivalent
and does not consider the relative locations of shards held on those nodes. Additionally, replication can
incur significant network I/O between shards. For these reasons, <strong>avoid creating clusters on nodes that
are in different regions</strong>.</p>
<h3 id="software-requirements">Software Requirements</h3>
<p>You can run Elasticsearch on Windows or on Linux. The Elasticsearch service is deployed as a Java jar
library and has dependencies on other Java libraries that are included in the Elasticsearch package. You
must install the Java 7 (update 55 or later) or Java 8 (update 20 or later) JVM to run Elasticsearch.</p>
<div class="NOTE alert"><h5>Note</h5><p>Other than the <em>Xmx</em> and <em>Xms</em> memory parameters (specified as command line options to
the Elasticsearch engine – see <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#memory-requirements">Memory requirements</a>) do not modify the default JVM configuration
settings. Elasticsearch has been designed using the defaults; changing them can cause Elasticsearch to
become detuned and perform poorly.</p>
</div>
<h3 id="deploying-elasticsearch-on-azure">Deploying Elasticsearch on Azure</h3>
<p>Although it is not difficult to deploy a single instance of Elasticsearch, creating a number of nodes and
installing and configuring Elasticsearch on each one can be a time consuming and error-prone process. If
you are considering running Elasticsearch on Azure VMs, you have three options that can help to reduce the
chances of errors.</p>
<ul>
<li>Using the Azure Resource Manager <a href="https://azure.microsoft.com/marketplace/partners/elastic/elasticsearchelasticsearch/">template</a> in Azure marketplace. This template is created by Elastic. It allows you to add commercial enhancements such as Shield, Marvel, Watcher, and so on.</li>
<li>Using the Azure quickstart <a href="https://github.com/Azure/azure-quickstart-templates/tree/master/elasticsearch">template</a> to build the cluster. This template can create a cluster based on Windows Server 2012 or Ubuntu Linux 14.0.4. It allows you to use experimental features such as Azure File Storage. This template is used for the research and testing tasks in this document.</li>
<li>Using scripts that can be automated or run unattended. Scripts that can create and deploy an Elasticsearch cluster are available on the <a href="https://github.com/mspnp/azure-guidance/tree/master/scripts/ps">GitHub repository</a></li>
</ul>
<h2 id="cluster-and-node-sizing-and-scalability">Cluster and node sizing and scalability</h2>
<p>Elasticsearch enables a number of deployment topologies, designed to support differing requirements and levels of scale. This section discusses some common topologies, and describes the considerations for implementing clusters based on these topologies.</p>
<h3 id="elasticsearch-topologies">Elasticsearch topologies</h3>
<p>The figure below illustrates a starting point for designing an Elasticsearch topology for Azure:</p>
<p><img src="./Running Elasticsearch on Azure _ Microsoft Docs_files/general-startingpoint.png" alt=""></p>
<p><em>Suggested starting point for building an Elasticsearch cluster with Azure</em></p>
<p>This topology contains six data nodes together with three client nodes and three master nodes (only one master node is elected, the other two are available for election should the elected master fail.) Each node is implemented as a separate VM. Azure web applications are directed to client nodes via a load balancer.</p>
<p>In this example, all nodes and the web applications reside in the same virtual network which effectively isolates them from the outside world. If the cluster needs to be available externally (possibly as part of a hybrid solution incorporating on-premises clients), then you can use the Azure Load Balancer to provide a public IP address, but you will need to take additional security precautions to prevent unauthorized access to the cluster.</p>
<p>The optional "Jump Box" is a VM that is only available to administrators. This VM has a network connection to the virtual network, but also an outward facing network connection to permit administrator logon from an external network (this logon should be protected by using a strong password or certificate). An administrator can log on to the Jump Box, and then connect from there directly to any of the nodes in the cluster.</p>
<p>Alternative approaches include using a site-to-site VPN between an organization and the virtual network, or using <a href="https://docs.microsoft.com/en-us/azure/expressroute/expressroute-introduction">ExpressRoute</a> circuits to connect to the virtual network. These mechanisms permit administrative access to the cluster without exposing the cluster to the public internet.</p>
<p>To maintain VM availability, the data nodes are grouped into the same Azure availability set. Similarly, the client nodes are held in another availability set and the master nodes are stored in a third availability set.</p>
<p>This topology is relatively easy to scale out, simply add more nodes of the appropriate type and ensure that they are configured with the same cluster name in the elasticsearch.yml file. Client nodes also need to be added to the backend pool for the Azure load balancer.</p>
<p><strong>Geo-locating clusters</strong></p>
<p><strong>Don’t spread nodes in a cluster across regions as this can impact the performance of inter-node communication</strong> (see <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#network-requirements">Network requirements</a>). Geo-locating data close to users in different regions requires creating multiple clusters. In this situation, you need to consider how (or even whether) to synchronize clusters. Possible solutions include:</p>
<p><a href="https://www.elastic.co/blog/tribe-node">Tribe nodes</a> are similar to a client node except that it can participate in multiple Elasticsearch
clusters and view them all as one big cluster. Data is still managed locally by each cluster (updates are
not propagated across cluster boundaries), but all data is visible. A tribe node can query, create, and
manage documents in any cluster.</p>
<p>The primary restrictions are that a tribe node cannot be used to create a new index, and index names must
be unique across all clusters. Therefore it is important that you consider how indexes will be named when
you design clusters intended to be accessed from tribe nodes.</p>
<p>Using this mechanism, each cluster can contain the data that is most likely to be accessed by local
client applications, but these clients can still access and modify remote data although with possible
extended latency. The figure below shows an example of this topology. The tribe node in Cluster 1 is
highlighted; the other clusters can also have tribe nodes although these are not shown on the diagram:</p>
<p><img src="./Running Elasticsearch on Azure _ Microsoft Docs_files/general-tribenode.png" alt=""></p>
<p><em>A client application accessing multiple clusters through a tribe node</em></p>
<p>In this example, the client application connects to the tribe node in Cluster 1 (co-located in the same region), but this node is configured to be able to access Cluster 2 and Cluster 3, which might be located in different regions. The client application can send requests that retrieve or modify data in any of the clusters.</p>
<div class="NOTE alert"><h5>Note</h5><p>Tribe nodes require multicast discovery to connect to clusters, which may present a
security concern. See the section <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#node-discovery">Node discovery</a> for more details.</p>
</div>
<ul>
<li>Implementing geo-replication between clusters. In this approach, changes made at each cluster are
propagated in near real-time to clusters located in other data centers. Third-party plugins are available
for Elasticsearch that support this functionality, such as the <a href="http://www.pubnub.com/blog/quick-start-realtime-geo-replication-for-elasticsearch/">PubNub Changes Plugin</a>.</li>
<li>Using the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-snapshots.html">Elasticsearch Snapshot and Restore module</a>. If the data is very slow-moving and is
modified only by a single cluster, you can consider using snapshots to take a periodic copy of the data
and then restore these snapshots in other clusters (snapshots can be stored in Azure Blob Storage if you
have installed the <a href="https://www.elastic.co/blog/azure-cloud-plugin-for-elasticsearch">Azure Cloud Plugin</a>). However, this solution does not work well for rapidly
changing data or if data can be changed in more than one cluster.</li>
</ul>
<p><strong>Small-scale topologies</strong></p>
<p>Large-scale topologies comprising clusters of dedicated master, client, and data nodes might not be
appropriate for every scenario. If you are building a small-scale production or development system,
consider the 3-node cluster shown in the figure below.</p>
<p>Client applications connect directly to any available data node in the cluster. The cluster contains
three shards labelled P1-P3 (to allow for growth) plus replicas labelled R1-R3. Using three nodes allows
Elasticsearch to distribute the shards and replicas so that if any single node fails no data will be lost.</p>
<p><img src="./Running Elasticsearch on Azure _ Microsoft Docs_files/general-threenodecluster.png" alt=""></p>
<p><em>A 3-node cluster with 3 shards and replicas</em></p>
<p>If you are running a development installation on a standalone machine you can configure a cluster with a
single node that acts as master, client, and data storage. Alternatively, you can start multiple nodes
running as a cluster on the same computer by starting more than one instance of Elasticsearch. The figure
below shows an example.</p>
<p><img src="./Running Elasticsearch on Azure _ Microsoft Docs_files/general-developmentconfiguration.png" alt=""></p>
<p><em>A development configuration running multiple Elasticsearch nodes on the same machine</em></p>
<p>Note that neither of these standalone configurations are recommended for a production environment as
they can cause contention unless your development machine has a significant amount of memory and several
fast disks. Additionally, they do not provide any high availability guarantees. If the machine fails, all
nodes are lost.</p>
<h3 id="scaling-a-cluster-and-data-nodes">Scaling a cluster and data nodes</h3>
<p>Elasticsearch can scale in two dimensions: vertically (using bigger, more powerful machines) and
horizontally (spreading the load across machines).</p>
<p><strong>Scaling Elasticsearch data nodes vertically</strong></p>
<p>If you are hosting an Elasticsearch cluster by using Azure VMs, each node can correspond to a VM. The
limit of vertical scalability for a node is largely governed by the SKU of the VM and the overall
restrictions applied to individual storage accounts and Azure subscriptions.</p>
<p>The page <a href="https://docs.microsoft.com/en-us/azure/azure-subscription-service-limits">Azure subscription and service limits, quotas, and constraints</a>
describes these limits in detail, but as far as building an Elasticsearch cluster is concerned, the items
in the following list are the most pertinent.</p>
<ul>
<li>Each storage account is restricted to 20,000 IOPS. Each VM in the cluster should leverage a
dedicated (preferably premium) storage account.</li>
<li>The number of data nodes in a virtual network. If you are not using the Azure Resource Manager, there is a
limit of 2048 VM instances per virtual network. While this should prove sufficient for many cases, if you have a
very large configuration with thousands of nodes this could be a limitation.</li>
<li>Number of storage accounts per subscription per region. You can create up to 100 storage accounts per
Azure subscription in each region. Storage accounts are used to hold virtual disks, and each storage
account has a limit of 500TB of space.</li>
<li>Number of cores per subscription. The default limit is 20 cores per subscription, but this can be increased up to 10,000 cores by requesting a limit increase through a support ticket.</li>
<li>The amount of memory per VM size. Smaller size VMs have limited amounts of memory available (D1
machines have 3.5GB, and D2 machines have 7GB). These machines might not be suitable for scenarios that
require Elasticsearch to cache significant amounts of data to achieve good performance (aggregating data,
or analyzing a large number of documents during data ingestion, for example).</li>
<li>The maximum number of disks per VM size. This restriction can limit the size and performance of a
cluster. Fewer disks means that less data can be held, and performance can be reduced by having fewer
disks available for striping.</li>
<li>The number of update domains / fault domains per availability set. If you create VMs using the Azure Resource Manager,
each availability set can be allocated up to 3 fault domains and 20 update domains. This limitation can
impact the resilience of a large cluster that is subjected to frequent rolling updates.</li>
</ul>
<p>Additionally, you should probably not consider using VMs with more than 64GB of memory. As described in
the section <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#memory-requirements">Memory requirements</a>, you should not allocate more than 30GB of RAM on each VM to the JVM
and allow the operating system to utilize the remaining memory for I/O buffering.</p>
<p>With these restrictions in mind, you should always spread the virtual disks for the VMs in a cluster
across storage accounts to reduce the chances of I/O throttling. In a very large cluster, you may need to
redesign your logical infrastructure and split it into separate functional partitions. For example, you
might need to split the cluster across subscriptions, although this process can lead to further
complications because of the need to connect virtual networks.</p>
<p><strong>Scaling an Elasticsearch cluster horizontally</strong></p>
<p>Internally within Elasticsearch, the limit of horizontal scalability is determined by the number of
shards defined for each index. Initially, many shards can be allocated to the same node in a cluster, but
as the volume of data grows additional nodes can be added and shards can be distributed across these
nodes. In theory, only when the number of nodes reaches the number of shards will the system cease to
scale horizontally.</p>
<p>As with vertical scaling, there are some issues that you should consider when contemplating implementing
horizontal scaling, including:</p>
<ul>
<li>The maximum number of VMs that you can connect in an Azure virtual network. This can limit the horizontal
scalability for a very large cluster. You can create a cluster of nodes that spans more than one virtual network to
circumvent this limit, but this approach can lead to reduced performance due to the lack of locality of
each node with its peers.</li>
<li>The number of disks per VM Size. Different series and SKUs support different numbers of attached disks.
Additionally, you can also consider using the ephemeral storage included with the VM to provide a limited
amount of faster data storage, although there are resiliency and recovery implications that you should
consider (see <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-configuring-resilience-and-recovery">Configuring resilience and recovery on Elasticsearch on Azure</a> for
more information). The D-series, DS-series, Dv2-series, and GS-series of VMs use SSDs for ephemeral
storage.</li>
</ul>
<p>You could consider using <a href="https://azure.microsoft.com/documentation/services/virtual-machine-scale-sets/">Virtual Machine Scale Sets</a> to start and stop VMs as demands dictates. However, this approach might not be
appropriate for an Elasticsearch cluster for the following reasons:</p>
<ul>
<li>This approach is best suited for stateless VMs. Each time you add or remove a node from an
Elasticsearch cluster, shards are reallocated to balance the load, and this process can generate
considerable volumes of network traffic and disk I/O and can severely impact data ingestion rates. You
must assess whether this overhead is worth the benefit of the additional processing and memory resources
that become available by dynamically starting more VMs.</li>
<li>VM startup does not happen instantaneously, and it may take several minutes before additional VMs
become available or they are shut down. Scaling in this way should only be used to handle sustained
changes in demand.</li>
<li>After scaling out, do you actually need to consider scaling back? Removing a VM from an Elasticsearch
cluster can be a resource intensive process requiring that Elasticsearch recovers the shards and replicas
that are located on that VM and recreates them on one or more of the remaining nodes. Removing several
VMs at the same time could compromise the integrity of the cluster, making recovery difficult. Furthermore,
many Elasticsearch implementations grow over time, but the nature of the data is such that it tends not
to shrink in volume. It is possible to delete documents manually, and documents can also be configured
with a TTL (time to live) after which they expire and get removed, but in most cases it is likely that
the space previously allocated will be quickly reused by new or modified documents. Fragmentation within
an index might occur when documents are removed or changed, in which case you can use the Elasticsearch
HTTP <a href="https://www.elastic.co/guide/en/elasticsearch/reference/1.7/indices-optimize.html">Optimize</a> API (Elasticsearch 2.0.0 and earlier) or the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/2.1/indices-forcemerge.html">Force Merge</a> API (Elasticsearch 2.1.0
and later) to perform defragmentation.</li>
</ul>
<h3 id="determining-the-number-of-shards-for-an-index">Determining the number of shards for an index</h3>
<p>The number of nodes in a cluster can vary over time, but the number of shards in an index is fixed once
the index has been created. To add or remove shards requires reindexing the data – a process of creating
a new index with the required number of shards and then copying the data from the old index to the new
(you can use aliases to insulate users from the fact that data has been reindexed – see <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-tuning-data-aggregation-and-query-performance">Tuning data aggregation and query performance for Elasticsearch on Azure</a> for more details).
Therefore, it is important to determine the number of shards that you are likely to require in advance of creating the first index in your cluster. You can perform the following steps to establish this number:</p>
<ul>
<li>Create a single-node cluster using the same hardware configuration that you intend to deploy in
production.</li>
<li>Create an index that matches the structure that you plan to use in production. Give this index a single
shard and no replicas.</li>
<li>Add a specific quantity of realistic production data to the index.</li>
<li>Perform typical queries, aggregations, and other workloads against the index and measure the throughput
and response time.</li>
<li>If the throughput and response time are within acceptable limits, then repeat the process from step 3
(add more data).</li>
<li>When you appear to have reached the capacity of the shard (response times and throughput start becoming
unacceptable), make a note of the volume of documents.</li>
<li>Extrapolate from the capacity of a single shard to the anticipated number of documents in production to
calculate the required number of shards (you should include some margin of error in these calculations as
extrapolation is not a precise science).</li>
</ul>
<div class="NOTE alert"><h5>Note</h5><p>Remember that each shard is implemented as a Lucene index that consumes memory, CPU power,
and file handles. The more shards you have, the more of these resources you will require.</p>
</div>
<p>Additionally, creating more shards may increase scalability (depending on your workloads and scenario)
and can increase data ingestion throughput, but it might reduce the efficiency of many queries. By
default, a query will interrogate every shard used by an index (you can use <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-routing-field.html">custom routing</a> to modify
this behavior if you know which shards the data you require is located on).</p>
<p>Following this process can only generate an estimate for the number of shards, and the volume of
documents expected in production might not be known. In this case, you should determine the initial
volume (as above) and the predicted growth rate. Create an appropriate number of shards that can handle
the growth of data for the period until you are willing to reindex the database.</p>
<p>Other strategies used for scenarios such as event management and logging include using rolling indexes.
Create a new index for the data ingested each day and access this index through an alias that is switched
daily to point to the most recent index. This approach enables you to more easily age-out old data (you
can delete indexes containing information that is no longer required) and keeps the volume of data
manageable.</p>
<p>Keep in mind that the number of nodes does not have to match the number of shards. For example, if you
create 50 shards, you can spread them across 10 nodes initially, and then add more nodes to scale the
system out as the volume of work increases. Avoid creating an exceptionally large number of shards on a
small number of nodes (1000 shards spread across 2 nodes, for example). Although the system could
theoretically scale to 1000 nodes with this configuration, running 500 shards on a single node risks
crippling the performance of the node.</p>
<div class="NOTE alert"><h5>Note</h5><p>For systems that are data-ingestion heavy, consider using a prime number of shards. The
default algorithm that Elasticsearch uses for routing documents to shards produces a more even spread
in this case.</p>
</div>
<h3 id="security">Security</h3>
<p>By default, Elasticsearch implements minimal security and does not provide any means of authentication
and authorization. These aspects require configuring the underlying operating system and network, and
using plugins and third-party utilities. Examples include <a href="https://www.elastic.co/products/shield">Shield</a>, and <a href="https://github.com/floragunncom/search-guard">Search Guard</a>.</p>
<div class="NOTE alert"><h5>Note</h5><p>Shield is a plugin provided by Elastic for user authentication, data encryption,
role-based access control, IP filtering, and auditing. It may be necessary to configure the underlying
operating system to implement further security measures, such as disk encryption.</p>
</div>
<p>In a production system, you should consider how to:</p>
<ul>
<li>Prevent unauthorized access to the cluster.</li>
<li>Identify and authenticate users.</li>
<li>Authorize the operations that authenticated users can perform.</li>
<li>Protect the cluster from rogue or damaging operations.</li>
<li>Protect the data from unauthorized access.</li>
<li>Meet regulatory requirements for commercial data security (if appropriate).</li>
</ul>
<h3 id="securing-access-to-the-cluster">Securing access to the cluster</h3>
<p>Elasticsearch is a network service. The nodes in an Elasticsearch cluster listen for incoming client requests using HTTP, and communicate with each other using a TCP channel. You should take steps to prevent unauthorized clients or services from being able to send requests over both the HTTP and TCP paths. Consider the following items.</p>
<ul>
<li>Define network security groups to limit the inbound and outbound network traffic for a virtual network or VM to
specific ports only.</li>
<li>Change the default ports used for client web access (9200) and programmatic network access (9300). Use
a firewall to protect each node from malicious Internet traffic.</li>
<li>Depending on the location and connectivity of clients, place the cluster on a private subnet with no
direct access to the Internet. If the cluster must be exposed outside the subnet, route all requests
through a bastion server or proxy sufficiently hardened to protect the cluster.</li>
</ul>
<p>If you must provide direct access to nodes, use an <a href="http://nginx.org/en/">nginx</a> proxy server configure and
HTTPS authentication.</p>
<div class="NOTE alert"><h5>Note</h5><p>Using a proxy server such as nginx, you can also restrict access to functionality. For
example, you can configure nginx to only allow requests to the _search endpoint if you need to prevent
clients from performing other operations.</p>
</div>
<p>If you require more comprehensive network access security, use the Shield or Search Guard plugins.</p>
<h3 id="identifying-and-authenticating-users">Identifying and authenticating users</h3>
<p>All requests made by clients to the cluster should be authenticated. Additionally, you should prevent
unauthorized nodes from joining the cluster as these can provide a backdoor into the system that bypasses
authentication.</p>
<p>Elasticsearch plugins are available that can perform different types of authentication, including:</p>
<ul>
<li><strong>HTTP basic authentication</strong>. Usernames and passwords are included in each request. All requests must be
encrypted by using SSL/TLS or an equivalent level of protection.</li>
<li><strong>LDAP and Active Directory integration</strong>. This approach requires that clients are assigned roles
in LDAP or AD groups.</li>
<li><strong>Native authentication</strong>. Uses identities defined within the Elasticsearch cluster itself.</li>
<li><strong>TLS authentication</strong>. Use TLS authentication within a cluster to authenticate all nodes.</li>
<li><strong>IP filtering</strong>. Use IP filtering to prevent clients from unauthorized subnets from connecting, and also preventing nodes from these subnets joining the cluster.</li>
</ul>
<h3 id="authorizing-client-requests">Authorizing client requests</h3>
<p>Authorization depends on the Elasticsearch plugin used to provide this service. For example, a plugin that provides basic authentication typically provides features that define the level of authentication, whereas a plugin that uses LDAP or AD will typically associate clients with roles, and then assign access rights to those roles. When using any plugin, you should consider the following points:</p>
<ul>
<li>Do you need to restrict the operations that a client can perform? For example, should a client be able
to monitor the status of the cluster, or create and delete indexes?</li>
<li>Should the client be restricted to specific indexes? This is useful in a multitenant : No hyphen per style guide.&gt;&gt;situation where
tenants may be assigned their own specific set of indexes, and these indexes should be inaccessible to
other tenants.</li>
<li>Should the client by able to read and write data to an index? A client may be able to perform searches
that retrieve data using an index but must be prevented from adding or deleting data from that index, for
example.</li>
</ul>
<p>Currently, most security plugins scope operations to the cluster or index level, and not to subsets of
documents within indexes. This is for efficiency reasons. It is therefore not easy to limit requests to
specific documents within a single index. If you require this level of granularity, save documents in
separate indexes and use aliases that group indexes together.</p>
<p>For example, in a personnel system, if user A requires access to all documents that contain information
about employees in department X, user B requires access to all documents that contain information about
employees in department Y, and user C requires access to all documents that contain information about
employees in both departments, create two indexes (for department X and department Y), and an alias that
references both indexes. Grant user A read access to the first index, grant user B read access to the
second index, and grant user C read access to both indexes through the alias. For more information, see
<a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/faking-it.html">Faking Index per User with Aliases</a>.</p>
<h3 id="protecting-the-cluster">Protecting the cluster</h3>
<p>The cluster can become vulnerable to misuse if it is not protected carefully.</p>
<p><strong>Disable dynamic query scripting in Elasticsearch</strong> queries as they can lead to security vulnerabilities. Use native scripts in preference to query scripting; a native script is an Elasticsearch plugin written in Java and compiled into a JAR file.</p>
<p>Dynamic query scripting is now disabled by default; do not reenable it unless you have a very good reason to do so.</p>
<p><strong>Avoid exposing query-string searches to users</strong> as this type of searching allows users to perform
resource-intensive queries unhindered. These searches could severely impact the performance of the
cluster and can render the system open to DOS attacks. Additionally, query-string searching can expose
potentially private information.</p>
<p><strong>Prevent operations from consuming a lot of memory</strong> as these can cause out-of-memory exceptions
resulting in Elasticsearch failing on a node. Long-running resource intensive operations can also be used
to implement DOS attacks. Examples include:</p>
<p>Avoid Search requests that attempt to load very large fields into memory (if a query sorts, scripts, or facets on these fields), such as:</p>
<ul>
<li>Searches that query multiple indexes at the same time.</li>
<li>Searches that retrieve a large number of fields. These searches can exhaust memory by causing a vast amount of field data to be cached. By default, the field data cache is unlimited in size, but you can set the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-fielddata.html">indices.fielddata.cache.*</a> properties in the elasticsearch.yml configuration file to limit the resources available. You can also configure the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/circuit-breaker.html#fielddata-circuit-breaker">field data circuit breaker</a> to help prevent the cached data from a single field from exhausting memory, and the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/circuit-breaker.html#request-circuit-breaker">request circuit breaker</a> to stop individual queries from monopolizing memory. The cost of setting these parameters is the increased likelihood of some queries failing or timing out.</li>
</ul>
<div class="NOTE alert"><h5>Note</h5><p>Using <a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/doc-values.html">Doc Values</a> can reduce the memory requirements of indexes by saving field data to
disk rather than loading it into memory. This can help to reduce the chances of memory exhaustion on a
node but with a reduction in speed.</p>
<p>Elasticsearch always assumes that it has enough memory to perform its current workload. If
this is not the case, then the Elasticsearch service can crash. Elasticsearch provides endpoints that
return information about resource usage (the HTTP <a href="https://www.elastic.co/guide/en/elasticsearch/reference/1.7/cat.html">cat APIs</a>), and you should monitor this
information carefully.</p>
</div>
<p><strong>Waiting for too long to flush an in-progress memory segment</strong>. This can exhaust in-memory buffer space.
If necessary, <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules-translog.html">configure the translog</a> to reduce the thresholds at which data is flushed to disk.</p>
<p><strong>Creating indexes with large amounts of metadata</strong>. An index that contains documents with a large
variation in field names can consume a lot of memory. For more information, see <a href="https://www.elastic.co/blog/found-crash-elasticsearch#mapping-explosion">Mapping Explosion</a>.</p>
<p>The definition of a long-running or query intensive operation is highly scenario-specific. The workload typically expected by one cluster might have a completely different profile from the workload on another. Determining which operations are unacceptable requires significant research and testing of your applications.</p>
<p>Be proactive, detect and stop malicious activities before they cause significant damage or data loss.
Consider using a security monitoring and notification system that can quickly detect unusual patterns of
data access and raise alerts when, for example, user login requests fail, unexpected nodes join or leave
the cluster, or operations are taking longer than expected. Tools that can perform these tasks include
Elasticearch <a href="https://www.elastic.co/products/watcher">Watcher</a>.</p>
<h3 id="protecting-the-data">Protecting the data</h3>
<p>You can protect data inflight by using SSL/TLS, but Elasticsearch does not provide any built-in form of
data encryption for information that is stored on disk. Remember that this information is held in
ordinary disk files, and any user with access to these files may be able to compromise the data that they
hold, for example by copying them to their own cluster. Consider the following points:</p>
<ul>
<li>Protect the files used by Elasticsearch to hold the data. Do not allow arbitrary read or write access
to identities other than the Elasticsearch service.</li>
<li>Encrypt the data held in these files by using an encrypting file system.</li>
</ul>
<div class="NOTE alert"><h5>Note</h5><p>Azure now supports disk encryption for Linux and Windows VMs. For more information, see
<a href="https://docs.microsoft.com/en-us/azure/security/azure-security-disk-encryption">Azure Disk Encryption for Windows and Linux IaaS VMs Preview</a>.</p>
</div>
<h3 id="meeting-regulatory-requirements">Meeting regulatory requirements</h3>
<p>Regulatory requirements are primarily concerned with auditing operations to maintain a history of events,
and ensuring the privacy of these operations to help prevent them being monitored (and replayed) by an
external agency. In particular, you should consider how to:</p>
<ul>
<li>Track all requests (successful or not), and all attempts to access the system.</li>
<li>Encrypt communications made by clients to the cluster as well as node-to-node communications performed
by the cluster. You should implement SSL/TLS for all cluster communications. Elasticsearch also supports
pluggable ciphers if your organization has requirements distinct from those available through SSL/TLS.</li>
<li>Store all audit data securely. The volume of audit information can grow very rapidly and must be
protected robustly to prevent tampering of audit information.</li>
<li>Safely archive audit data.</li>
</ul>
<h3 id="monitoring">Monitoring</h3>
<p>Monitoring is important both at the operating system level and at the Elasticsearch level.</p>
<p>You can perform monitoring at the operating system level using operating-system specific tools. Under
Windows, this includes items such as Performance Monitor with the appropriate performance counters, while
under Linux you can use tools such as <em>vmstat</em>, <em>iostat</em>, and <em>top</em>. The key items to monitor at the
operating system level include CPU utilization, disk I/O volumes, disk I/O wait times, and network traffic.
In a well-tuned Elasticsearch cluster, CPU utilization by the Elasticsearch process should be high, and
disk I/O wait times should be minimal.</p>
<p>At the software level, you should monitor the throughput and response times of requests, together with
the details of requests that fail. Elasticsearch provides a number of APIs that you can use to examine
the performance of different aspects of a cluster. The two most important APIs are <em>_cluster/health</em> and
<em>_nodes/stats</em>. The <em>_cluster/health</em> API can be used to provide a snapshot of the overall health of the
cluster, as well as providing detailed information for each index, as shown in the following example:</p>
<p><code>GET _cluster/health?level=indices</code></p>
<p>The example output shown below was generated using this API:</p>
<div class="codeHeader lang-json"><div class="copyBtn">Copy</div><div class="labelHolder">JSON</div></div><pre><code class="lang-json">{
    <span class="hljs-attr">"cluster_name"</span>: <span class="hljs-string">"elasticsearch"</span>,
    <span class="hljs-attr">"status"</span>: <span class="hljs-string">"green"</span>,
    <span class="hljs-attr">"timed_out"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"number_of_nodes"</span>: <span class="hljs-number">6</span>,
    <span class="hljs-attr">"number_of_data_nodes"</span>: <span class="hljs-number">3</span>,
    <span class="hljs-attr">"active_primary_shards"</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">"active_shards"</span>: <span class="hljs-number">20</span>,
    <span class="hljs-attr">"relocating_shards"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"initializing_shards"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"unassigned_shards"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"delayed_unassigned_shards"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"number_of_pending_tasks"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"number_of_in_flight_fetch"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"indices"</span>: {
        <span class="hljs-attr">"systwo"</span>: {
            <span class="hljs-attr">"status"</span>: <span class="hljs-string">"green"</span>,
            <span class="hljs-attr">"number_of_shards"</span>: <span class="hljs-number">5</span>,
            <span class="hljs-attr">"number_of_replicas"</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">"active_primary_shards"</span>: <span class="hljs-number">5</span>,
            <span class="hljs-attr">"active_shards"</span>: <span class="hljs-number">10</span>,
            <span class="hljs-attr">"relocating_shards"</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">"initializing_shards"</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">"unassigned_shards"</span>: <span class="hljs-number">0</span>
        },
        <span class="hljs-attr">"sysfour"</span>: {
            <span class="hljs-attr">"status"</span>: <span class="hljs-string">"green"</span>,
            <span class="hljs-attr">"number_of_shards"</span>: <span class="hljs-number">5</span>,
            <span class="hljs-attr">"number_of_replicas"</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">"active_primary_shards"</span>: <span class="hljs-number">5</span>,
            <span class="hljs-attr">"active_shards"</span>: <span class="hljs-number">10</span>,
            <span class="hljs-attr">"relocating_shards"</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">"initializing_shards"</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">"unassigned_shards"</span>: <span class="hljs-number">0</span>
        }
    }
}
</code></pre><p>This cluster contains two indexes named <em>systwo</em> and <em>sysfour</em>. Key statistics to monitor for each index are the status, active_shards, and unassigned_shards. The status should be green, the number of active_shards should reflect the number_of_shards and number_of_replicas, and unassigned_shards should be zero.</p>
<p>If the status is red, then part of the index is missing or has become corrupt. You can verify this if the <em>active_shards</em> setting is less than <em>number_of_shards</em> - (<em>number_of_replicas</em> + 1) and unassigned_shards is non-zero. Note that a status of yellow indicates that an index is in a transitional state, either as the result of adding more replicas or shards being relocated. The status should switch to green when the transition has completed.</p>
<p>If it stays yellow for an extended period or changes to red, you should look to see whether any significant I/O events (such as a disk or network failure) have occurred at the operating system level.</p>
<p>The _nodes/stats API emits extensive information about each node in the cluster:</p>
<p><code>GET _nodes/stats</code></p>
<p>The output generated includes details about how indexes are stored on each node (including the sizes and
numbers of documents), time spent performing indexing, querying, searching, merging, caching,
operating system and process information, statistics about the JVM (including garbage collection
performance), and thread pools. For more information, see <a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/_monitoring_individual_nodes.html#_monitoring_individual_nodes">Monitoring Individual Nodes</a>.</p>
<p>If a significant proportion of Elasticsearch requests are failing with <em>EsRejectedExecutionException</em>
error messages, then Elasticsearch is failing to keep up with the work being sent its way. In this
situation, you need to identify the bottleneck that is causing Elasticsearch to fall behind. Consider the
following items:</p>
<ul>
<li>If the bottleneck is due to a resource constraint, such as insufficient memory allocated to the JVM
causing an excessive number of garbage collections, then consider allocating additional resources (in
this case, configure the JVM to use more memory, up to 50% of the available storage on the node – see
<a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#memory-requirements">Memory requirements</a>).</li>
<li>If the cluster is showing large I/O wait times and the merge statistics gathered for an index by using
the _node/stats API contain large values then the index is write-heavy. Revisit the points raised in <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-tuning-data-ingestion-performance#optimizing-resources-for-indexing-operations">Optimizing resources for indexing operations</a> to
tune indexing performance.</li>
<li>Throttle client applications that are performing data ingestion operations and determine the effect
that this has on performance. If this approach shows significant improvement, then consider either
retaining the throttle, or scaling out by spreading the load for write-heavy indexes across more nodes.
For more information, see <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-tuning-data-ingestion-performance">Tuning data ingestion performance for Elasticsearch on Azure</a>.</li>
<li>If the searching statistics for an index indicate that queries are taking a long time then consider how
the queries are optimized. Note that you can use the <em>query_time_in_millis</em> and <em>query_total</em> values reported by the search statistics to calculate a rough guide to query efficiency; the equation <em>query_time_in_millis</em> / <em>query_total</em> will give you an average time for each query.</li>
</ul>
<h3 id="tools-for-monitoring-elasticsearch">Tools for monitoring Elasticsearch</h3>
<p>A variety of tools are available for performing everyday monitoring of Elasticsearch in production. These
tools typically use the underlying Elasticsearch APIs to gather information and present the details in a
manner that is easier to observe than the raw data. Common examples include <a href="https://mobz.github.io/elasticsearch-head/">Elasticsearch-Head</a>,
<a href="http://bigdesk.org/">Bigdesk</a>, <a href="https://github.com/lmenezes/elasticsearch-kopf">Kopf</a>, and <a href="https://www.elastic.co/products/marvel">Marvel</a>.</p>
<p>Elasticsearch-Head, Bigdesk, and Kopf run as plugins for the Elasticsearch software. More recent versions
of Marvel can run independently, but require <a href="https://www.elastic.co/downloads/kibana">Kibana</a> to provide a data capture and hosting
environment. The advantage of using Marvel with Kibana is that you can implement monitoring in a separate
environment from the Elasticsearch cluster, enabling you to explore problems with Elasticsearch that
might not be possible if the monitoring tools run as part of the Elasticsearch software. For example, if
Elasticsearch repeatedly fails or is running very slowly, tools that run as Elasticsearch plugins will
also be affected, making monitoring and diagnosis more difficult.</p>
<p>At the operating system level, you can use tools such as the Log Analytics feature of <a href="https://www.microsoft.com/server-cloud/operations-management-suite/overview.aspx">Azure Operations Management Suite</a> or <a href="https://azure.microsoft.com/blog/windows-azure-virtual-machine-monitoring-with-wad-extension/">Azure Diagnostics with the Azure Portal</a> to capture performance data for VMs
hosting Elasticsearch nodes. Another approach is to use <a href="https://www.elastic.co/products/logstash">Logstash</a> to capture performance and log data,
store this information in a separate Elasticsearch cluster (don't use the same cluster that you are using
 or your application), and then use Kibana to visualize the data. For more information, see <a href="http://aka.ms/AzureDiagnosticsElk">Microsoft Azure Diagnostics with ELK</a>.</p>
<h3 id="tools-for-testing-elasticsearch-performance">Tools for testing Elasticsearch performance</h3>
<p>Other tools are available if you are benchmarking Elasticsearch or subjecting a cluster to performance
testing. These tools are intended to be used in a development or test environment rather than production.
A frequently-used example is <a href="http://jmeter.apache.org/">Apache JMeter</a>.</p>
<p>JMeter was used to perform benchmarking and other load tests described in documents related to this
guidance. <a href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-creating-performance-testing-environment">Creating a performance testing environment for Elasticsearch on Azure</a> describes in detail how JMeter was configured and used.</p>
</div></div>

          

          <div id="comments-container" role="form"></div>
        </div>
      </div>

      <div id="openFeedbackContainer" class="openfeedback-container" role="complementary"></div>

    </main>

    <footer id="footer" ms.pgarea="footer" class="footer-layout">
  <div class="container" role="contentinfo">

    <select id="locale-picker" aria-label="Change Page Language"><option data-id="cs-cz" dir="ltr">Čeština</option><option data-id="de-de" dir="ltr">Deutsch</option><option data-id="en-us" selected="" dir="ltr">English</option><option data-id="es-es" dir="ltr">Español</option><option data-id="fr-fr" dir="ltr">Français</option><option data-id="hu-hu" dir="ltr">Magyar</option><option data-id="it-it" dir="ltr">Italiano</option><option data-id="ja-jp" dir="ltr">日本語</option><option data-id="ko-kr" dir="ltr">한국어</option><option data-id="nl-nl" dir="ltr">Nederlands</option><option data-id="pl-pl" dir="ltr">Polski</option><option data-id="pt-br" dir="ltr">Português (Brasil)</option><option data-id="pt-pt" dir="ltr">Português (Portugal)</option><option data-id="ru-ru" dir="ltr">Pусский</option><option data-id="sv-se" dir="ltr">Svenska</option><option data-id="tr-tr" dir="ltr">Türkçe</option><option data-id="zh-cn" dir="ltr">中文 (简体)</option><option data-id="zh-tw" dir="ltr">中文 (繁體)</option></select>
    
    <ul class="links" ms.cmpgrp="footer link">
      <li><a id="footer-about-link" href="https://docs.microsoft.com/teamblog">Blog</a></li>
      <li><a id="footer-privacy-link" href="https://privacy.microsoft.com/en-us/">Privacy &amp; Cookies</a></li>
      <li><a id="footer-term-of-use" href="https://docs.microsoft.com/en-us/legal/termsofuse">Terms of Use</a></li>
      <li><a href="https://aka.ms/sitefeedback">Feedback</a></li>
      <li id="impressum-section"><a id="impressum-link" href="https://docs.microsoft.com/en-us/azure/guidance/guidance-elasticsearch-running-on-azure#">Impressum</a></li>
      <li><a href="https://www.microsoft.com/en-us/legal/intellectualproperty/Trademarks/EN-US.aspx">Trademarks</a></li>
    </ul>
  </div>
</footer>

<!---->



    <script type="text/javascript" async="" id="smcx-sdk" src="./Running Elasticsearch on Azure _ Microsoft Docs_files/79yNbHm5_2Bc09cabC381UfD6Mz_2FuWCiepbBF6EB_2FT0Ea4MCk82Bh_2BApaijjR77BSR.js.下载"></script><script src="./Running Elasticsearch on Azure _ Microsoft Docs_files/e0ce3378843779296d07.conceptual.js.下载"></script>
  
</body></html>